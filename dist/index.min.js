!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).TranslationWidget=t()}(this,(function(){"use strict";var e=Object.defineProperty,t=(t,i,n)=>((t,i,n)=>i in t?e(t,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[i]=n)(t,"symbol"!=typeof i?i+"":i,n);class i{constructor(e){t(this,"publicKey"),t(this,"cacheMetrics",{hits:0,misses:0}),t(this,"apiUrl","https://api.jigsawstack.com/v1/ai/translate"),this.publicKey=e}getCacheMetrics(){return{...this.cacheMetrics}}async translateBatchText(e,t,i=2,n=100){let a=0;for(;a<i;)try{const i=await fetch(this.apiUrl,{method:"POST",headers:{"Content-Type":"application/json","x-api-key":this.publicKey},body:JSON.stringify({text:e,target_language:t})});if(!i.ok){const e=new Error(`Error translating text: ${i.statusText}`);throw e.status=i.status,e.response=i,e}const n=await i.json();return Array.isArray(n.translated_text)?n.translated_text:[n.translated_text]}catch(r){if(a++,a>=i)return console.error("Translation error after retries:",r),e;await new Promise((e=>setTimeout(e,n)))}return e}}const n=[{code:"af",name:"Afrikaans",native:"Afrikaans",region:"South Africa"},{code:"am",name:"Amharic",native:"አማርኛ",region:"Ethiopia"},{code:"ar",name:"Arabic",native:"العربية",rtl:1,region:"Saudi Arabia"},{code:"as",name:"Assamese",native:"অসমীয়া",region:"India"},{code:"az",name:"Azerbaijani",native:"Azərbaycanca / آذربايجان",region:"Azerbaijan"},{code:"ba",name:"Bashkir",native:"Башҡорт",region:"Russia"},{code:"be",name:"Belarusian",native:"Беларуская",region:"Belarus"},{code:"bg",name:"Bulgarian",native:"Български",region:"Bulgaria"},{code:"bn",name:"Bengali",native:"বাংলা",region:"Bangladesh"},{code:"bo",name:"Tibetan",native:"བོད་ཡིག / Bod skad",region:"Tibet"},{code:"br",name:"Breton",native:"Brezhoneg",region:"France"},{code:"bs",name:"Bosnian",native:"Bosanski",region:"Bosnia"},{code:"ca",name:"Catalan",native:"Català",region:"Spain"},{code:"ch",name:"Chamorro",native:"Chamoru",region:"Guam"},{code:"co",name:"Corsican",native:"Corsu",region:"France"},{code:"cs",name:"Czech",native:"Česky",region:"Czech Republic"},{code:"cy",name:"Welsh",native:"Cymraeg",region:"Wales"},{code:"da",name:"Danish",native:"Dansk",region:"Denmark"},{code:"de",name:"German",native:"Deutsch",region:"Germany"},{code:"dv",name:"Divehi",native:"ދިވެހިބަސް",rtl:1,region:"Maldives"},{code:"dz",name:"Dzongkha",native:"ཇོང་ཁ",region:"Bhutan"},{code:"el",name:"Greek",native:"Ελληνικά",region:"Greece"},{code:"en",name:"English",native:"English",region:"United Kingdom"},{code:"eo",name:"Esperanto",native:"Esperanto",region:"International"},{code:"es",name:"Spanish",native:"Español",region:"Spain"},{code:"et",name:"Estonian",native:"Eesti",region:"Estonia"},{code:"eu",name:"Basque",native:"Euskara",region:"Spain"},{code:"fa",name:"Persian",native:"فارسی",rtl:1,region:"Iran"},{code:"ff",name:"Peul",native:"Fulfulde",region:"Nigeria"},{code:"fi",name:"Finnish",native:"Suomi",region:"Finland"},{code:"fj",name:"Fijian",native:"Na Vosa Vakaviti",region:"Fiji"},{code:"fo",name:"Faroese",native:"Føroyskt",region:"Faroe Islands"},{code:"fr",name:"French",native:"Français",region:"France"},{code:"fy",name:"West Frisian",native:"Frysk",region:"Netherlands"},{code:"ga",name:"Irish",native:"Gaeilge",region:"Ireland"},{code:"gd",name:"Scottish Gaelic",native:"Gàidhlig",region:"Scotland"},{code:"gl",name:"Galician",native:"Galego",region:"Spain"},{code:"gn",name:"Guarani",native:"Avañe'ẽ",region:"Paraguay"},{code:"gu",name:"Gujarati",native:"ગુજરાતી",region:"India"},{code:"gv",name:"Manx",native:"Gaelg",region:"Isle of Man"},{code:"ha",name:"Hausa",native:"هَوُسَ",rtl:1,region:"Nigeria"},{code:"he",name:"Hebrew",native:"עברית",rtl:1,region:"Israel"},{code:"hi",name:"Hindi",native:"हिन्दी",region:"India"},{code:"hr",name:"Croatian",native:"Hrvatski",region:"Croatia"},{code:"ht",name:"Haitian",native:"Krèyol ayisyen",region:"Haiti"},{code:"hu",name:"Hungarian",native:"Magyar",region:"Hungary"},{code:"hy",name:"Armenian",native:"Հայերեն",region:"Armenia"},{code:"id",name:"Indonesian",native:"Bahasa Indonesia",region:"Indonesia"},{code:"ig",name:"Igbo",native:"Igbo",region:"Nigeria"},{code:"is",name:"Icelandic",native:"Íslenska",region:"Iceland"},{code:"it",name:"Italian",native:"Italiano",region:"Italy"},{code:"iu",name:"Inuktitut",native:"ᐃᓄᒃᑎᑐᑦ",region:"Canada"},{code:"ja",name:"Japanese",native:"日本語",region:"Japan"},{code:"jv",name:"Javanese",native:"Basa Jawa",region:"Indonesia"},{code:"ka",name:"Georgian",native:"ქართული",region:"Georgia"},{code:"kg",name:"Kongo",native:"KiKongo",region:"Congo"},{code:"ki",name:"Kikuyu",native:"Gĩkũyũ",region:"Kenya"},{code:"kj",name:"Kuanyama",native:"Kuanyama",region:"Namibia"},{code:"kk",name:"Kazakh",native:"Қазақша",region:"Kazakhstan"},{code:"kl",name:"Greenlandic",native:"Kalaallisut",region:"Greenland"},{code:"km",name:"Cambodian",native:"ភាសាខ្មែរ",region:"Cambodia"},{code:"kn",name:"Kannada",native:"ಕನ್ನಡ",region:"India"},{code:"ko",name:"Korean",native:"한국어",region:"South Korea"},{code:"kr",name:"Kanuri",native:"Kanuri",region:"Nigeria"},{code:"ks",name:"Kashmiri",native:"कश्मीरी / كشميري",rtl:1,region:"India"},{code:"ku",name:"Kurdish",native:"Kurdî / كوردی",rtl:1,region:"Iraq"},{code:"kv",name:"Komi",native:"Коми",region:"Russia"},{code:"kw",name:"Cornish",native:"Kernewek",region:"United Kingdom"},{code:"ky",name:"Kirghiz",native:"Kırgızca / Кыргызча",region:"Kyrgyzstan"},{code:"la",name:"Latin",native:"Latina",region:"Vatican"},{code:"lb",name:"Luxembourgish",native:"Lëtzebuergesch",region:"Luxembourg"},{code:"lg",name:"Ganda",native:"Luganda",region:"Uganda"},{code:"li",name:"Limburgian",native:"Limburgs",region:"Netherlands"},{code:"ln",name:"Lingala",native:"Lingála",region:"Congo"},{code:"lo",name:"Laotian",native:"ລາວ / Pha xa lao",region:"Laos"},{code:"lt",name:"Lithuanian",native:"Lietuvių",region:"Lithuania"},{code:"lu",name:"Luba-Katanga",native:"Tshiluba",region:"Congo"},{code:"lv",name:"Latvian",native:"Latviešu",region:"Latvia"},{code:"mg",name:"Malagasy",native:"Malagasy",region:"Madagascar"},{code:"mh",name:"Marshallese",native:"Kajin Majel / Ebon",region:"Marshall Islands"},{code:"mi",name:"Maori",native:"Māori",region:"New Zealand"},{code:"mk",name:"Macedonian",native:"Македонски",region:"North Macedonia"},{code:"ml",name:"Malayalam",native:"മലയാളം",region:"India"},{code:"mn",name:"Mongolian",native:"Монгол",region:"Mongolia"},{code:"mo",name:"Moldovan",native:"Moldovenească",region:"Moldova"},{code:"mr",name:"Marathi",native:"मराठी",region:"India"},{code:"ms",name:"Malay",native:"Bahasa Melayu",region:"Malaysia"},{code:"mt",name:"Maltese",native:"bil-Malti",region:"Malta"},{code:"sv",name:"Swedish",native:"Svenska",region:"Sweden"},{code:"sw",name:"Swahili",native:"Kiswahili",region:"Tanzania"},{code:"ta",name:"Tamil",native:"தமிழ்",region:"India"},{code:"te",name:"Telugu",native:"తెలుగు",region:"India"},{code:"tg",name:"Tajik",native:"Тоҷикӣ",region:"Tajikistan"},{code:"th",name:"Thai",native:"ไทย / Phasa Thai",region:"Thailand"},{code:"ti",name:"Tigrinya",native:"ትግርኛ",region:"Eritrea"},{code:"tk",name:"Turkmen",native:"Туркмен / تركمن",region:"Turkmenistan"},{code:"tl",name:"Tagalog",native:"Tagalog",region:"Philippines"},{code:"tn",name:"Tswana",native:"Setswana",region:"Botswana"},{code:"to",name:"Tonga",native:"Lea Faka-Tonga",region:"Tonga"},{code:"tr",name:"Turkish",native:"Türkçe",region:"Turkey"},{code:"ts",name:"Tsonga",native:"Xitsonga",region:"South Africa"},{code:"tt",name:"Tatar",native:"Tatarça",region:"Russia"},{code:"tw",name:"Twi",native:"Twi",region:"Ghana"},{code:"ty",name:"Tahitian",native:"Reo Mā`ohi",region:"French Polynesia"},{code:"ug",name:"Uyghur",native:"Uyƣurqə / ئۇيغۇرچە",region:"China"},{code:"uk",name:"Ukrainian",native:"Українська",region:"Ukraine"},{code:"ur",name:"Urdu",native:"اردو",rtl:1,region:"Pakistan"},{code:"uz",name:"Uzbek",native:"Ўзбек",region:"Uzbekistan"},{code:"ve",name:"Venda",native:"Tshivenḓa",region:"South Africa"},{code:"vi",name:"Vietnamese",native:"Tiếng Việt",region:"Vietnam"},{code:"vo",name:"Volapük",native:"Volapük",region:"International"},{code:"wo",name:"Wolof",native:"Wollof",region:"Senegal"},{code:"xh",name:"Xhosa",native:"isiXhosa",region:"South Africa"},{code:"yi",name:"Yiddish",native:"ייִדיש",rtl:1,region:"Israel"},{code:"yo",name:"Yoruba",native:"Yorùbá",region:"Nigeria"},{code:"zh",name:"Chinese",native:"中文",region:"China"},{code:"zu",name:"Zulu",native:"isiZulu",region:"South Africa"}];function a(e){return function(e,t){let i=3&e.length,n=e.length-i,a=t,r=3432918353,o=461845907,s=0;for(;s<n;){let t=255&e.charCodeAt(s)|(255&e.charCodeAt(++s))<<8|(255&e.charCodeAt(++s))<<16|(255&e.charCodeAt(++s))<<24;++s,t=(65535&t)*r+(((t>>>16)*r&65535)<<16)&4294967295,t=t<<15|t>>>17,t=(65535&t)*o+(((t>>>16)*o&65535)<<16)&4294967295,a^=t,a=a<<13|a>>>19;const i=5*(65535&a)+((5*(a>>>16)&65535)<<16)&4294967295;a=27492+(65535&i)+((58964+(i>>>16)&65535)<<16)}let l=0;switch(i){case 3:l^=e.charCodeAt(s+2)<<16;case 2:l^=e.charCodeAt(s+1)<<8;case 1:l^=e.charCodeAt(s),l=(65535&l)*r+(((l>>>16)*r&65535)<<16)&4294967295,l=l<<15|l>>>17,l=(65535&l)*o+(((l>>>16)*o&65535)<<16)&4294967295,a^=l}return a^=e.length,a^=a>>>16,a=2246822507*(65535&a)+((2246822507*(a>>>16)&65535)<<16)&4294967295,a^=a>>>13,a=3266489909*(65535&a)+((3266489909*(a>>>16)&65535)<<16)&4294967295,a^=a>>>16,a>>>0}(e.map((e=>{var t,i;if(e.nodeType===Node.TEXT_NODE){const n=e.parentElement;return n&&n.hasAttribute("data-original-text")?null==(t=n.getAttribute("data-original-text"))?void 0:t.replace(/\s+/g," ").trim():null==(i=e.textContent)?void 0:i.replace(/\s+/g," ").trim().toLocaleLowerCase()}})).join(" ").trim().toLowerCase(),42).toString(16)}const r=e=>e.replace(/[\p{Emoji_Presentation}\p{Extended_Pictographic}]/gu,"");class o{static findTranslatableContent(){var e;const t={acceptNode(e){var t;if(e.nodeType!==Node.TEXT_NODE)return NodeFilter.FILTER_REJECT;const i=e.parentElement;if(!i)return NodeFilter.FILTER_REJECT;if(i.closest('[aria-hidden="true"]'))return NodeFilter.FILTER_REJECT;if(i.classList.contains("sr-only"))return NodeFilter.FILTER_REJECT;return null!==i.closest("script, style, code")||null!==i.closest("next-route-announcer")||null!==i.closest(".translation-widget")||null!==i.closest(".jigts-widget-trigger")||null!==i.closest(".jigts-widget-dropdown")||null!==i.closest(".notranslate")||!(null==(t=e.textContent)?void 0:t.trim())?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}},i=document.createTreeWalker(document.body,NodeFilter.SHOW_TEXT,t),n=[];let a;for(;a=i.nextNode();)if(a.nodeType===Node.TEXT_NODE){const t=(null==(e=a.textContent)?void 0:e.trim())||"",i=r(t);if(0===t.length||1===t.length||0===i.length)continue;n.push(a)}return n}static divideIntoGroups(e,t){const i=[];for(let n=0;n<e.length;n+=t)i.push(e.slice(n,n+t));return i}static containsTranslatableContent(e){var t;if(e.nodeType!==Node.TEXT_NODE)return!1;const i=e.parentElement;return!!i&&!("SCRIPT"===i.tagName||"STYLE"===i.tagName||"CODE"===i.tagName||"next-route-announcer"===i.tagName||i.closest(".translate-widget")||i.closest(".notranslate")||!(null==(t=e.textContent)?void 0:t.trim()))}static getContainer(e){return e.parentElement}}const s={primaryColor:"#2563eb",pageLanguage:"en",autoDetectLanguage:!1,position:"top-right"};function l(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var g,c,d,u={exports:{}};const h=l((g||(g=1,c=u,d=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",n={};function a(e,t){if(!n[e]){n[e]={};for(var i=0;i<e.length;i++)n[e][e.charAt(i)]=i}return n[e][t]}var r={compressToBase64:function(e){if(null==e)return"";var i=r._compress(e,6,(function(e){return t.charAt(e)}));switch(i.length%4){default:case 0:return i;case 1:return i+"===";case 2:return i+"==";case 3:return i+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:r._decompress(e.length,32,(function(i){return a(t,e.charAt(i))}))},compressToUTF16:function(t){return null==t?"":r._compress(t,15,(function(t){return e(t+32)}))+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:r._decompress(e.length,16384,(function(t){return e.charCodeAt(t)-32}))},compressToUint8Array:function(e){for(var t=r.compress(e),i=new Uint8Array(2*t.length),n=0,a=t.length;n<a;n++){var o=t.charCodeAt(n);i[2*n]=o>>>8,i[2*n+1]=o%256}return i},decompressFromUint8Array:function(t){if(null==t)return r.decompress(t);for(var i=new Array(t.length/2),n=0,a=i.length;n<a;n++)i[n]=256*t[2*n]+t[2*n+1];var o=[];return i.forEach((function(t){o.push(e(t))})),r.decompress(o.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":r._compress(e,6,(function(e){return i.charAt(e)}))},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),r._decompress(e.length,32,(function(t){return a(i,e.charAt(t))})))},compress:function(t){return r._compress(t,16,(function(t){return e(t)}))},_compress:function(e,t,i){if(null==e)return"";var n,a,r,o={},s={},l="",g="",c="",d=2,u=3,h=2,m=[],p=0,v=0;for(r=0;r<e.length;r+=1)if(l=e.charAt(r),Object.prototype.hasOwnProperty.call(o,l)||(o[l]=u++,s[l]=!0),g=c+l,Object.prototype.hasOwnProperty.call(o,g))c=g;else{if(Object.prototype.hasOwnProperty.call(s,c)){if(c.charCodeAt(0)<256){for(n=0;n<h;n++)p<<=1,v==t-1?(v=0,m.push(i(p)),p=0):v++;for(a=c.charCodeAt(0),n=0;n<8;n++)p=p<<1|1&a,v==t-1?(v=0,m.push(i(p)),p=0):v++,a>>=1}else{for(a=1,n=0;n<h;n++)p=p<<1|a,v==t-1?(v=0,m.push(i(p)),p=0):v++,a=0;for(a=c.charCodeAt(0),n=0;n<16;n++)p=p<<1|1&a,v==t-1?(v=0,m.push(i(p)),p=0):v++,a>>=1}0==--d&&(d=Math.pow(2,h),h++),delete s[c]}else for(a=o[c],n=0;n<h;n++)p=p<<1|1&a,v==t-1?(v=0,m.push(i(p)),p=0):v++,a>>=1;0==--d&&(d=Math.pow(2,h),h++),o[g]=u++,c=String(l)}if(""!==c){if(Object.prototype.hasOwnProperty.call(s,c)){if(c.charCodeAt(0)<256){for(n=0;n<h;n++)p<<=1,v==t-1?(v=0,m.push(i(p)),p=0):v++;for(a=c.charCodeAt(0),n=0;n<8;n++)p=p<<1|1&a,v==t-1?(v=0,m.push(i(p)),p=0):v++,a>>=1}else{for(a=1,n=0;n<h;n++)p=p<<1|a,v==t-1?(v=0,m.push(i(p)),p=0):v++,a=0;for(a=c.charCodeAt(0),n=0;n<16;n++)p=p<<1|1&a,v==t-1?(v=0,m.push(i(p)),p=0):v++,a>>=1}0==--d&&(d=Math.pow(2,h),h++),delete s[c]}else for(a=o[c],n=0;n<h;n++)p=p<<1|1&a,v==t-1?(v=0,m.push(i(p)),p=0):v++,a>>=1;0==--d&&(d=Math.pow(2,h),h++)}for(a=2,n=0;n<h;n++)p=p<<1|1&a,v==t-1?(v=0,m.push(i(p)),p=0):v++,a>>=1;for(;;){if(p<<=1,v==t-1){m.push(i(p));break}v++}return m.join("")},decompress:function(e){return null==e?"":""==e?null:r._decompress(e.length,32768,(function(t){return e.charCodeAt(t)}))},_decompress:function(t,i,n){var a,r,o,s,l,g,c,d=[],u=4,h=4,m=3,p="",v=[],f={val:n(0),position:i,index:1};for(a=0;a<3;a+=1)d[a]=a;for(o=0,l=Math.pow(2,2),g=1;g!=l;)s=f.val&f.position,f.position>>=1,0==f.position&&(f.position=i,f.val=n(f.index++)),o|=(s>0?1:0)*g,g<<=1;switch(o){case 0:for(o=0,l=Math.pow(2,8),g=1;g!=l;)s=f.val&f.position,f.position>>=1,0==f.position&&(f.position=i,f.val=n(f.index++)),o|=(s>0?1:0)*g,g<<=1;c=e(o);break;case 1:for(o=0,l=Math.pow(2,16),g=1;g!=l;)s=f.val&f.position,f.position>>=1,0==f.position&&(f.position=i,f.val=n(f.index++)),o|=(s>0?1:0)*g,g<<=1;c=e(o);break;case 2:return""}for(d[3]=c,r=c,v.push(c);;){if(f.index>t)return"";for(o=0,l=Math.pow(2,m),g=1;g!=l;)s=f.val&f.position,f.position>>=1,0==f.position&&(f.position=i,f.val=n(f.index++)),o|=(s>0?1:0)*g,g<<=1;switch(c=o){case 0:for(o=0,l=Math.pow(2,8),g=1;g!=l;)s=f.val&f.position,f.position>>=1,0==f.position&&(f.position=i,f.val=n(f.index++)),o|=(s>0?1:0)*g,g<<=1;d[h++]=e(o),c=h-1,u--;break;case 1:for(o=0,l=Math.pow(2,16),g=1;g!=l;)s=f.val&f.position,f.position>>=1,0==f.position&&(f.position=i,f.val=n(f.index++)),o|=(s>0?1:0)*g,g<<=1;d[h++]=e(o),c=h-1,u--;break;case 2:return v.join("")}if(0==u&&(u=Math.pow(2,m),m++),d[c])p=d[c];else{if(c!==h)return null;p=r+r.charAt(0)}v.push(p),d[h++]=r+p.charAt(0),r=p,0==--u&&(u=Math.pow(2,m),m++)}}};return r}(),null!=c?c.exports=d:"undefined"!=typeof angular&&null!=angular&&angular.module("LZString",[]).factory("LZString",(function(){return d}))),u.exports));class m{constructor(e=""){t(this,"prefix"),t(this,"COMPRESSION_THRESHOLD",1e4),t(this,"COMPRESSION_MARKER","__COMPRESSED__"),this.prefix=e}getKey(e,t,i){return`${e}-${encodeURIComponent(t)}-${i}`}shouldCompress(e){return e.length>this.COMPRESSION_THRESHOLD}compress(e){try{return h.compressToBase64(e)}catch(t){return console.error("Compression failed:",t),e}}decompress(e){try{return h.decompressFromBase64(e)||e}catch(t){return console.error("Decompression failed:",t),e}}getItem(e){const t=this.prefix+e,i=localStorage.getItem(t);if(!i)return null;try{const e=i.startsWith(this.COMPRESSION_MARKER)?this.decompress(i.slice(this.COMPRESSION_MARKER.length)):i;return JSON.parse(e)}catch(n){return console.error("Error parsing cached item:",n),null}}setItem(e,t){const i=this.prefix+e,n=JSON.stringify(t),a=()=>{try{const e=this.shouldCompress(n)?`${this.COMPRESSION_MARKER}${this.compress(n)}`:n;localStorage.setItem(i,e)}catch(e){console.error("Error storing item:",e),localStorage.setItem(i,n)}};"undefined"!=typeof requestIdleCallback?requestIdleCallback((()=>a())):setTimeout(a,0)}removeItem(e){const t=this.prefix+e;localStorage.removeItem(t)}clear(){if(this.prefix)for(let e in localStorage)e.startsWith(this.prefix)&&localStorage.removeItem(e);else localStorage.clear()}key(e){return localStorage.key(e)}get length(){return localStorage.length}}const p=class e{constructor(a,r={}){t(this,"config"),t(this,"translationService"),t(this,"currentLanguage"),t(this,"widget"),t(this,"elements"),t(this,"autoDetectLanguage"),t(this,"isTranslated",!1),t(this,"userLanguage"),t(this,"isTranslating",!1),t(this,"observer",null),t(this,"translationScheduled",!1),t(this,"scheduleTimeout",null),t(this,"lastTranslated",null),t(this,"currentTranslationPromise",null),t(this,"lastRequestedLanguage",null),t(this,"onUrlChange",(()=>{this.scheduleTranslation()}));let o={...s,...r};if(o.position&&!["top-right","top-left","bottom-left","bottom-right"].includes(o.position)&&(console.warn(`Invalid position '${o.position}' passed to TranslationWidget. Falling back to 'top-right'.`),o.position="top-right"),this.config=o,!a)throw new Error("Public key is required to initialize the translation widget");if(a.startsWith("sk_"))throw new Error("Please use public api key for security reasons. You can get one from https://jigsawstack.com");if(!a.startsWith("pk_"))throw new Error("Please use proper api key. You can get one from https://jigsawstack.com");this.translationService=new i(a),this.autoDetectLanguage=this.config.autoDetectLanguage||!1,this.currentLanguage=this.config.pageLanguage||"en",this.userLanguage=(()=>{const e=window.navigator.languages,t=n.find((t=>e.includes(t.code)));return(null==t?void 0:t.code)||"en"})(),this.widget=document.createElement("div"),this.elements={trigger:null,dropdown:null,searchInput:null,clearSearch:null,languageItems:null,loadingIndicator:null},this.initialize(),e.instance=this}initialize(){var e;if(!this.validateConfig())return;const t=this.getUrlParameter("lang");let i=this.config.pageLanguage;if(t){n.find((e=>e.code===t))&&(i=t)}else{const e=localStorage.getItem("jss-pref");e&&n.find((t=>t.code===e))?i=e:this.autoDetectLanguage&&(i=this.userLanguage)}this.currentLanguage=i,this.createWidget();const a=null==(e=this.elements.trigger)?void 0:e.querySelector(".jigts-trigger-icon");if(a&&this.currentLanguage!==this.config.pageLanguage){const e=n.find((e=>e.code===this.currentLanguage)),t=e?e.name:this.currentLanguage.toUpperCase();a.innerHTML=`<span class="jigts-lang-code">${this.currentLanguage.toUpperCase()}</span><span class="jigts-lang-name">${t}</span>`}this.setupEventListeners(),this.setupURLObserver(),this.setupContentObserver()}getUrlParameter(e){return new URLSearchParams(window.location.search).get(e)}setupContentObserver(){this.observer=new MutationObserver((e=>{e.forEach((e=>{this.widget.contains(e.target)||"characterData"===e.type||"childList"===e.type&&Array.from(e.addedNodes).some((e=>e.nodeType===Node.TEXT_NODE))})),this.isTranslating||this.scheduleTranslation()})),this.observeBody()}observeBody(){var e;null==(e=this.observer)||e.observe(document.body,{childList:!0,subtree:!0,attributes:!0,characterData:!0})}setupURLObserver(){["pushState","replaceState"].forEach((e=>{const t=history[e];history[e]=function(i,n,a){const r=t.call(this,i,n,a);return window.dispatchEvent(new Event(e)),r},window.addEventListener(e,this.onUrlChange)})),window.addEventListener("popstate",this.onUrlChange)}validateConfig(){return!!this.translationService||(console.error("Translation service is required to initialize the translation widget"),!1)}createWidget(){var e;const t=this.getCurrentLanguageLabel();this.widget=document.createElement("div"),this.widget.className=`jigts-translation-widget jigts-position-${this.config.position||"top-right"}`,document.body.appendChild(this.widget),this.widget.innerHTML=this.createWidgetHTML(t),this.elements={trigger:this.widget.querySelector(".jigts-widget-trigger"),dropdown:this.widget.querySelector(".jigts-widget-dropdown"),searchInput:this.widget.querySelector(".jigts-search-input"),clearSearch:this.widget.querySelector(".jigts-clear-search"),languageItems:this.widget.querySelectorAll(".jigts-language-item"),loadingIndicator:this.widget.querySelector(".jigts-loading-spinner")};const i=null==(e=this.elements.trigger)?void 0:e.querySelector("span");i&&i.classList.add("jigts-fade-in")}getCurrentLanguageLabel(){var e;return(null==(e=n.find((e=>e.code===this.currentLanguage)))?void 0:e.native)||"English"}createWidgetHTML(e){const t=this.createLanguageOptions(),i=n.length;return'\x3c!-- Widget Trigger Button --\x3e\n<div class="jigts-widget-trigger" tabindex="0" role="button" aria-label="Open translation menu" aria-expanded="false">\n    \x3c!-- Normal State --\x3e\n    <div class="jigts-trigger-content">\n        <span class="jigts-trigger-icon">\n            <svg class="jigts-languages-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\n                    d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129">\n                </path>\n            </svg>\n        </span>\n    </div>\n\n    \x3c!-- Loading State (hidden by default) --\x3e\n    <div class="jigts-trigger-loading" style="display: none;">\n        <div class="jigts-loading-spinner"></div>\n    </div>\n</div>\n\n\x3c!-- Dropdown Menu --\x3e\n<div class="jigts-widget-dropdown">\n    \x3c!-- Header --\x3e\n    <div class="jigts-dropdown-header">\n        <div class="jigts-dropdown-title">\n            <div class="jigts-title-left">\n                <svg class="jigts-languages-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\n                        d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129">\n                    </path>\n                </svg>\n                <span class="jigts-title-text">Select Language</span>\n            </div>\n            <div class="jigts-language-count">{{languageCount}} languages</div>\n        </div>\n\n        \x3c!-- Search Input --\x3e\n        <div class="jigts-search-container">\n            <svg class="jigts-search-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\n                    d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>\n            </svg>\n            <input type="text" class="jigts-search-input" placeholder="Search languages..." aria-label="Search languages">\n            <svg class="jigts-clear-search" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12">\n                </path>\n            </svg>\n        </div>\n    </div>\n\n    \x3c!-- Reset Option --\x3e\n    <div class="jigts-reset-option" tabindex="0" role="button" aria-label="Reset to original language">\n        <svg class="jigts-reset-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\n                d="M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"></path>\n        </svg>\n        <div class="jigts-reset-text">\n            <span class="jigts-reset-title">Original Language</span>\n            <span class="jigts-reset-subtitle">Reset translation</span>\n        </div>\n    </div>\n\n    \x3c!-- Language List --\x3e\n    <div class="jigts-language-list">\n        {{languageOptions}}\n        <div class="jigts-no-results" style="display: none;">\n            <svg class="jigts-no-results-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\n                    d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>\n            </svg>\n            <span>No languages found</span>\n        </div>\n    </div>\n</div>'.replace("{{languageOptions}}",t).replace("{{currentLanguageLabel}}",e).replace("{{languageCount}}",i.toString())}createLanguageOptions(){const e=this.currentLanguage,t=n.find((t=>t.code===e)),i=n.filter((t=>t.code!==e)).sort(((e,t)=>e.native.localeCompare(t.native)));if(!t)return"";const a=(e,t=!1)=>`\n            <div class="jigts-language-item ${t?"jigts-selected":""}" tabindex="0" role="option" aria-selected="${t}" data-language-code="${e.code}">\n                <div class="jigts-language-info">\n                    <div class="jigts-language-main">\n                        <span class="jigts-language-name">${e.name}</span>\n                        <div class="jigts-language-code">${e.code}</div>\n                    </div>\n                    <div class="jigts-language-details">\n                        <span class="jigts-language-native">${e.native}</span>\n                        <span class="jigts-language-separator">•</span>\n                        <span class="jigts-language-region">${e.region}</span>\n                    </div>\n                </div>\n                <svg class="jigts-check-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>\n                </svg>\n            </div>\n        `;return`\n            ${a(t,!0)}\n            ${i.map((e=>a(e))).join("")}\n        `}async updateTriggerText(e){var t;const i=null==(t=this.elements.trigger)?void 0:t.querySelector("span");i&&(i.offsetHeight,i.classList.remove("jigts-fade-in"),i.classList.add("jigts-fade-out"),await new Promise((e=>setTimeout(e,300))),i.textContent=e,i.offsetHeight,i.classList.remove("jigts-fade-out"),i.classList.add("jigts-fade-in"))}getTextToTranslate(e,t,i){var n,a;if(t.hasAttribute("data-original-text")){const n=null==(a=e.textContent)?void 0:a.trim();return"en"!==this.currentLanguage&&"en"!==i?(t.setAttribute("data-translated-lang",i),t.getAttribute("data-original-text")):n||null}{const a=null==(n=e.textContent)?void 0:n.trim();if(a){if(t.setAttribute("data-translated-lang",i),t.setAttribute("data-original-text",a),!t.hasAttribute("data-original-font-size")){const e=window.getComputedStyle(t);t.setAttribute("data-original-font-size",e.fontSize)}return a}}return null}calculateFontSize(e,t){const i=parseInt(t),n=e.length;return`${Math.max(12,Math.min(i,i*(1-Math.log(n)/10)))}px`}updateLoadingState(e){var t,i,a;const r=null==(t=this.elements.trigger)?void 0:t.querySelector(".jigts-trigger-content"),o=null==(i=this.elements.trigger)?void 0:i.querySelector(".jigts-trigger-loading");if(r&&o)if(e)r.style.display="none",o.style.display="flex";else if(o.style.display="none",r.style.display="flex",this.lastRequestedLanguage){const e=n.find((e=>e.code===this.lastRequestedLanguage));if(e){const t=null==(a=this.elements.trigger)?void 0:a.querySelector(".jigts-trigger-icon");t&&(t.innerHTML=`<span class="jigts-lang-code">${this.lastRequestedLanguage.toUpperCase()}</span><span class="jigts-lang-name">${e.name}</span>`)}}}async translatePage(e){this.lastRequestedLanguage=e,this.updateLoadingState(!0),this.currentTranslationPromise&&await this.currentTranslationPromise,this.currentTranslationPromise=this._translatePage(e);try{await this.currentTranslationPromise}finally{this.currentTranslationPromise==this.currentTranslationPromise&&(this.currentTranslationPromise=null),this.lastRequestedLanguage===e&&this.updateLoadingState(!1)}}async _translatePage(e){var t;this.isTranslating=!0,null==(t=this.observer)||t.disconnect();try{const t=o.findTranslatableContent(),i=o.divideIntoGroups(t,10),n=new m("jss-");let s=a(t);const l=[],g=[];i.forEach((t=>{const i=[],n=[];t.forEach((t=>{if(t.nodeType!==Node.TEXT_NODE)return;const a=t.parentElement;if(!a)return;const o=a.getAttribute("data-translated-lang");if(a.hasAttribute("data-original-text")&&e===o)return;let s=this.getTextToTranslate(t,a,e);s=r(s||""),0!==s.length&&1!==s.length&&s&&(i.push(s.trim()),n.push(t))})),l.push(n),g.push(i)}));const c=[],d=[];g.forEach(((e,t)=>{e.length>0&&(d.push(e),c.push(l[t]))}));const u=n.getKey(s,window.location.href,e),h=n.getItem(u);if(h&&h[0]){const i=h[0];return void(this.lastRequestedLanguage===e&&(t.forEach(((e,t)=>{if(e.nodeType===Node.TEXT_NODE){const n=e.parentElement;if(n){const e=n.getAttribute("data-original-font-size")||"16px",a=this.calculateFontSize(i[t],e);n.style.fontSize=a}e.textContent=i[t]}})),this.isTranslated=!0,this.updateResetButtonVisibility()))}const p=await Promise.all(d.map((t=>this.translationService.translateBatchText(t,e))));if(0===p.length)return void(this.lastRequestedLanguage===e&&(this.isTranslated=!0,this.updateResetButtonVisibility()));if(p.every(((e,t)=>{const i=d[t];return e.every(((e,t)=>e===i[t]))})))return console.warn("All translations failed, not caching results"),void(this.lastRequestedLanguage===e&&(this.isTranslated=!0,this.updateResetButtonVisibility()));const v=[];t.forEach(((t,i)=>{const n=t.parentElement,a=c.findIndex((e=>e.includes(t)));if(-1!==a){const r=c[a].indexOf(t),o=p[a][r];if(v[i]=o,this.lastRequestedLanguage===e){if(n){const e=n.getAttribute("data-original-font-size")||"16px",t=this.calculateFontSize(o,e);n.style.fontSize=t}t.textContent=o}}else n&&n.getAttribute("data-translated-lang"),v[i]=t.textContent||""})),n.setItem(u,[v]),this.lastRequestedLanguage===e&&(this.isTranslated=!0,this.updateResetButtonVisibility())}finally{this.isTranslating=!1,this.observeBody()}}updateResetButtonVisibility(){const e=this.widget.querySelector(".jigts-reset-option");e&&(e.style.display=this.isTranslated?"flex":"none")}resetTranslations(){this.observer&&this.observer.disconnect();document.querySelectorAll("[data-original-text]").forEach((e=>{const t=Array.from(e.childNodes).filter((e=>e.nodeType===Node.TEXT_NODE));if(t.length>0){const i=e.getAttribute("data-original-text");i&&(t[0].textContent=i)}const i=e.getAttribute("data-original-font-size");i&&(e.style.fontSize=i),e.removeAttribute("data-original-text"),e.removeAttribute("data-translated-lang"),e.removeAttribute("data-original-font-size")})),this.isTranslated=!1,this.currentLanguage=this.config.pageLanguage;const e=a(o.findTranslatableContent());this.lastTranslated={url:window.location.href,lang:this.config.pageLanguage,hash:e},this.updateResetButtonVisibility(),this.observeBody()}adjustDropdownPosition(){const{dropdown:e,trigger:t}=this.elements;if(!e||!t)return;const i=t.getBoundingClientRect(),n=e.getBoundingClientRect(),a=window.innerWidth,r=window.innerHeight;e.style.top="",e.style.bottom="",e.style.left="",e.style.right="",e.style.transform="";const o=r-i.bottom,s=i.top,l=a-i.right,g=i.left;o<n.height&&s>o?(e.style.bottom="100%",e.style.top="auto",e.style.marginBottom="0.5rem",e.style.marginTop="0"):(e.style.top="100%",e.style.bottom="auto",e.style.marginTop="0.5rem",e.style.marginBottom="0"),l<n.width&&g>l?(e.style.right="0",e.style.left="auto"):(e.style.left="0",e.style.right="auto");const c=e.getBoundingClientRect();c.right>a&&(e.style.right="0",e.style.left="auto"),c.left<0&&(e.style.left="0",e.style.right="auto")}setupEventListeners(){const{trigger:e,dropdown:t,searchInput:i,clearSearch:n,languageItems:a}=this.elements;if(!(e&&t&&i&&n&&a))return void console.error("Failed to find required elements");const r=this.widget.querySelector(".jigts-reset-option");r&&r.addEventListener("click",(()=>{var i;if(this.isTranslating)return;this.resetTranslations(),r.classList.remove("jigts-active"),this.isTranslated=!1,this.updateResetButtonVisibility();this.widget.querySelectorAll(".jigts-language-item").forEach((e=>{const t=e.getAttribute("data-language-code")===this.config.pageLanguage;e.classList.toggle("jigts-selected",t),e.setAttribute("aria-selected",t.toString())}));const n=null==(i=this.elements.trigger)?void 0:i.querySelector(".jigts-trigger-icon");n&&(n.innerHTML=this.getLanguageSVG()),t.classList.remove("jigts-open"),e.setAttribute("aria-expanded","false");const a=e.querySelector(".jigts-trigger-content");a&&a.classList.remove("jigts-has-translation")})),this.updateResetButtonVisibility(),e.addEventListener("click",(()=>{t.classList.toggle("jigts-open");const n=t.classList.contains("jigts-open");e.setAttribute("aria-expanded",n.toString()),n&&(this.adjustDropdownPosition(),i.focus())})),window.addEventListener("resize",(()=>{t.classList.contains("jigts-open")&&this.adjustDropdownPosition()})),document.addEventListener("click",(i=>{i.target.closest(".jigts-translation-widget")||t.classList.contains("jigts-open")&&(t.classList.add("jigts-closing"),setTimeout((()=>{t.classList.remove("jigts-open","jigts-closing"),e.setAttribute("aria-expanded","false")}),300))})),i.addEventListener("input",(()=>{const e=i.value.toLowerCase(),t=e.length>0;n.classList.toggle("jigts-visible",t);const a=this.widget.querySelectorAll(".jigts-language-item"),r=this.widget.querySelector(".jigts-no-results");let o=0;a.forEach((t=>{var i,n,a,r,s,l,g,c;const d=(null==(n=null==(i=t.querySelector(".jigts-language-name"))?void 0:i.textContent)?void 0:n.toLowerCase())||"",u=(null==(r=null==(a=t.querySelector(".jigts-language-native"))?void 0:a.textContent)?void 0:r.toLowerCase())||"",h=(null==(l=null==(s=t.querySelector(".jigts-language-code"))?void 0:s.textContent)?void 0:l.toLowerCase())||"",m=(null==(c=null==(g=t.querySelector(".jigts-language-region"))?void 0:g.textContent)?void 0:c.toLowerCase())||"",p=d.includes(e)||u.includes(e)||h.includes(e)||m.includes(e);t.style.display=p?"":"none",p&&o++})),r&&(r.style.display=0===o?"flex":"none")})),n.addEventListener("click",(()=>{i.value="",n.classList.remove("jigts-visible"),i.focus();const e=this.widget.querySelectorAll(".jigts-language-item"),t=this.widget.querySelector(".jigts-no-results");e.forEach((e=>{e.style.display=""})),t&&(t.style.display="none")})),a.forEach((i=>{i.addEventListener("click",(async()=>{var n,r;a.forEach((e=>{e.classList.remove("jigts-selected"),e.setAttribute("aria-selected","false")})),i.classList.add("jigts-selected"),i.setAttribute("aria-selected","true");const o=null==(n=i.querySelector(".jigts-language-name"))?void 0:n.textContent,s=i.getAttribute("data-language-code");o&&await this.updateTriggerText(o),s&&localStorage.setItem("jss-pref",s);const l=null==(r=this.elements.trigger)?void 0:r.querySelector(".jigts-trigger-icon");l&&s&&o&&(l.innerHTML=`<span class="jigts-lang-code">${s.toUpperCase()}</span><span class="jigts-lang-name">${o}</span>`),t.classList.remove("jigts-open"),e.setAttribute("aria-expanded","false");const g=e.querySelector(".jigts-trigger-content");if(s&&s!==this.currentLanguage){g&&g.classList.add("jigts-has-translation");const t=e.querySelector(".jigts-trigger-loading");g&&t&&(g.style.display="none",t.style.display="flex");try{await this.translatePage(s),this.currentLanguage=s}catch(c){console.error("Translation error:",c),alert("An error occurred during translation. Please try again.")}}else g&&g.classList.remove("jigts-has-translation")}))})),document.addEventListener("keydown",(i=>{t.classList.contains("jigts-open")&&"Escape"===i.key&&(t.classList.remove("jigts-open"),e.setAttribute("aria-expanded","false"),e.focus())}))}scheduleTranslation(){if(this.translationScheduled)return;const e=window.location.href,t=this.currentLanguage,i=a(o.findTranslatableContent());this.lastTranslated&&this.lastTranslated.url===e&&this.lastTranslated.lang===t&&this.lastTranslated.hash===i||(this.translationScheduled=!0,this.scheduleTimeout&&clearTimeout(this.scheduleTimeout),this.scheduleTimeout=window.setTimeout((()=>{var n,a;if(this.translationScheduled=!1,this.currentLanguage!==this.config.pageLanguage){this.lastTranslated={url:e,lang:t,hash:i};const r=null==(n=this.elements.trigger)?void 0:n.querySelector(".jigts-trigger-content"),o=null==(a=this.elements.trigger)?void 0:a.querySelector(".jigts-trigger-loading");r&&o&&(r.style.display="none",o.style.display="flex"),this.translatePage(this.currentLanguage).then((()=>{this.widget.querySelectorAll(".jigts-language-item").forEach((e=>{const t=e.getAttribute("data-language-code")===this.currentLanguage;e.classList.toggle("jigts-selected",t),e.setAttribute("aria-selected",t.toString())}))})).catch((e=>{console.error("Auto-translation error:",e)}))}}),200))}async translateTo(e){var t;if(this.isTranslating)return void console.warn("Translation already in progress");const i=n.find((t=>t.code===e));if(i)if(e!==this.currentLanguage)try{await this.translatePage(e),this.currentLanguage=e;this.widget.querySelectorAll(".jigts-language-item").forEach((t=>{const i=t.getAttribute("data-language-code")===e;t.classList.toggle("jigts-selected",i),t.setAttribute("aria-selected",i.toString())}));const n=null==(t=this.elements.trigger)?void 0:t.querySelector(".jigts-trigger-content");if(n){n.classList.add("jigts-has-translation");n.querySelector("span")&&this.updateTriggerText(i.name)}}catch(a){throw console.error("Translation error:",a),a}else console.log("Page is already in the requested language");else console.error(`Unsupported language code: ${e}`)}static getInstance(){return e.instance}getLanguageSVG(){return'\n            <svg class="jigts-languages-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\n                    d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129">\n                </path>\n            </svg>\n        '}};t(p,"instance",null);let v,f=p;window.translate=async e=>{const t=f.getInstance();t?await t.translateTo(e):console.error("Translation widget not initialized")};return(e,t)=>{if("undefined"==typeof window)throw new Error("Translation widget can only be used in browser environment");const i=()=>{if(!v){if(!document.querySelector("style[data-translation-widget]")){const e=document.createElement("style");e.setAttribute("data-translation-widget",""),e.textContent=':root{--jigts-base-color: white;--jigts-text-color: black;--jigts-bg-color: color-mix(in srgb, var(--jigts-base-color) 10%, white);--jigts-bg-hover: color-mix(in srgb, var(--jigts-text-color) 10%, white);--jigts-bg-active: color-mix(in srgb, var(--jigts-base-color) 30%, white)}*{margin:0;padding:0;box-sizing:border-box}.jigts-translation-widget{position:fixed;z-index:1000;color:var(--jigts-text-color)}.jigts-translation-widget.jigts-position-top-right{top:2rem;right:2rem}.jigts-translation-widget.jigts-position-top-left{top:2rem;left:2rem}.jigts-translation-widget.jigts-position-bottom-left{bottom:2rem;left:2rem}.jigts-translation-widget.jigts-position-bottom-right{bottom:2rem;right:2rem}.jigts-position-top-right .jigts-widget-dropdown,.jigts-position-top-left .jigts-widget-dropdown{top:calc(100% + .5rem)}.jigts-position-bottom-right .jigts-widget-dropdown,.jigts-position-bottom-left .jigts-widget-dropdown{bottom:calc(100% + .5rem)}.jigts-position-top-right .jigts-widget-dropdown,.jigts-position-bottom-right .jigts-widget-dropdown{right:0}.jigts-position-top-left .jigts-widget-dropdown,.jigts-position-bottom-left .jigts-widget-dropdown{left:0}.jigts-translation-widget{position:fixed}.jigts-translation-widget{max-width:fit-content}.jigts-trigger-content{display:flex;cursor:pointer;border-radius:6px;transition:all .2s ease}.jigts-trigger-icon{display:flex;align-items:center}.jigts-lang-code{font-weight:500;color:var(--jigts-text-color);font-size:14px}.jigts-lang-name{color:var(--jigts-text-color);font-size:14px;opacity:0;max-width:0;overflow:hidden;white-space:nowrap;transition:all .3s ease-in-out;display:inline-block}.jigts-lang-code{transition:all .3s ease-in-out}.jigts-widget-trigger:hover .jigts-lang-code{background:#e5e7eb;border-radius:50%;padding:.1rem .3rem;color:var(--jigts-text-color);font-weight:600;font-size:12px;transition:all .3s ease-in-out}.jigts-widget-trigger:hover .jigts-lang-name{opacity:1;margin-left:.5rem;max-width:100px}.jigts-widget-trigger{background:var(--jigts-bg-color);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid color-mix(in srgb,var(--jigts-base-color) 30%,white);border-radius:.75rem;padding:.3rem .6rem;cursor:pointer;display:flex;align-items:center;gap:.2rem;font-size:.9rem;font-weight:500;color:var(--jigts-text-color);box-shadow:0 10px 25px -5px #0000001a,0 10px 10px -5px #0000000a;transition:all .3s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden;min-height:2.2rem;min-width:unset}.jigts-widget-trigger:hover{transform:scale(1.05) translateY(-2px);box-shadow:0 20px 40px -10px #00000026,0 10px 20px -5px #0000001a}.jigts-widget-trigger:active{transform:scale(.98)}.jigts-widget-trigger:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(var(--jigts-base-color),.1),transparent);transition:left .6s ease}.jigts-widget-trigger:hover:before{left:100%}.jigts-widget-dropdown{position:absolute;width:20rem;background:var(--jigts-bg-color);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid color-mix(in srgb,var(--jigts-base-color) 30%,white);border-radius:.75rem;box-shadow:0 25px 50px -12px #00000040;opacity:0;visibility:hidden;transform:scale(.95) translateY(10px);transition:all .3s cubic-bezier(.4,0,.2,1);max-height:28rem;overflow:hidden;min-height:30rem;display:none;flex-direction:column;z-index:1000}.jigts-widget-dropdown.jigts-open{opacity:1;visibility:visible;transform:scale(1) translateY(0);display:flex}.jigts-widget-dropdown.jigts-closing{opacity:0;transform:translateY(10px)}.jigts-dropdown-header{padding:1rem;border-bottom:1px solid color-mix(in srgb,var(--jigts-base-color) 20%,white);background:var(--jigts-bg-hover);border-radius:.75rem .75rem 0 0;animation:headerSlideDown .4s ease .1s both}.jigts-dropdown-title{display:flex;align-items:center;justify-content:space-between;margin-bottom:.75rem}.jigts-title-left{display:flex;align-items:center;gap:.5rem}.jigts-languages-icon{width:1rem;height:1rem;color:var(--jigts-text-color)}.jigts-title-text{font-size:.875rem;font-weight:600;color:var(--jigts-text-color)}.jigts-language-count{background:var(--jigts-bg-hover);border:1px solid color-mix(in srgb,var(--jigts-base-color) 30%,white);color:var(--jigts-text-color);padding:.125rem .5rem;border-radius:.375rem;font-size:.75rem;font-weight:500}.jigts-search-container{position:relative}.jigts-search-input{width:100%;padding:.5rem .75rem .5rem 2.5rem;border:1px solid #d1d5db;border-radius:.5rem;outline:none;font-size:.875rem;color:var(--jigts-text-color);background:#fff;transition:all .2s ease}.jigts-search-icon{position:absolute;left:.75rem;top:50%;transform:translateY(-50%);width:1rem;height:1rem;color:var(--jigts-text-color);opacity:.7}.jigts-clear-search{position:absolute;right:.75rem;top:50%;transform:translateY(-50%);width:1rem;height:1rem;color:var(--jigts-text-color);cursor:pointer;opacity:0;transition:all .2s ease}.jigts-clear-search.jigts-visible{opacity:.7}.jigts-clear-search:hover{opacity:1;transform:translateY(-50%) scale(1.1)}.jigts-reset-option{padding:.75rem 1rem;border-bottom:1px solid color-mix(in srgb,var(--jigts-base-color) 20%,white);cursor:pointer;display:flex;align-items:center;gap:.75rem;transition:background-color .2s ease;animation:resetSlideIn .4s ease .15s both;background:var(--jigts-bg-color)}.jigts-reset-option:hover{background:var(--jigts-bg-hover)}.jigts-reset-icon{width:1rem;height:1rem;color:var(--jigts-text-color);transition:transform .3s ease}.jigts-reset-option:hover .jigts-reset-icon{transform:rotate(-180deg)}.jigts-reset-text{display:flex;flex-direction:column}.jigts-reset-title{font-weight:500;color:var(--jigts-text-color);font-size:.875rem}.jigts-reset-subtitle{font-size:.75rem;color:var(--jigts-text-color);opacity:.7}.jigts-language-list{flex:1;overflow-y:auto;padding:.5rem;position:relative;min-height:200px}.jigts-language-item{display:flex;align-items:center;justify-content:space-between;margin-left:.5rem;margin-right:.5rem;margin-bottom:.5rem;padding:.625rem .75rem;border-radius:.5rem;cursor:pointer;transition:all .2s ease;border:1px solid transparent;animation:languageSlideIn .4s ease both;background:var(--jigts-bg-color)}.jigts-language-item.jigts-focused{background:var(--jigts-bg-hover);border-color:color-mix(in srgb,var(--jigts-base-color) 40%,white)}.jigts-language-item.jigts-selected{background:var(--jigts-bg-active)}.jigts-language-item:hover{background:var(--jigts-bg-hover)}.jigts-language-info{display:flex;flex-direction:column;align-items:flex-start;min-width:0;flex:1}.jigts-language-main{display:flex;align-items:center;gap:.5rem;width:100%}.jigts-language-name{font-weight:500;color:var(--jigts-text-color);font-size:.875rem;transition:color .2s ease;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.jigts-language-item:hover .jigts-language-name{color:var(--jigts-text-color);opacity:.8}.jigts-language-code{background:var(--jigts-bg-hover);color:var(--jigts-text-color);padding:.125rem .375rem;border-radius:.25rem;font-size:.75rem;font-weight:600;flex-shrink:0}.jigts-language-details{display:flex;align-items:center;gap:.25rem;font-size:.75rem;color:var(--jigts-text-color);opacity:.7;width:100%;margin-top:.125rem}.jigts-language-native{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.jigts-language-separator,.jigts-language-region{flex-shrink:0}.jigts-globe-icon{width:1rem;height:1rem;color:var(--jigts-text-color);transition:transform .5s ease}.jigts-widget-trigger:hover .jigts-globe-icon{transform:rotate(360deg)}.jigts-check-icon{width:1rem;height:1rem;color:var(--jigts-text-color);opacity:0;transform:scale(0);transition:all .3s cubic-bezier(.34,1.56,.64,1)}.jigts-language-item.jigts-selected .jigts-check-icon{opacity:1;transform:scale(1)}.jigts-loading-spinner{width:1rem;height:1rem;border:2px solid #e5e7eb;border-top:2px solid var(--jigts-base-color);border-radius:50%;animation:spin 1s linear infinite}.jigts-trigger-loading{display:none}.jigts-no-results{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);display:none;flex-direction:column;align-items:center;justify-content:center;color:var(--jigts-text-color);text-align:center;padding:24px;animation:fadeIn .4s ease}.jigts-no-results-icon{width:2rem;height:2rem;margin-bottom:.5rem;color:var(--jigts-text-color);opacity:.5}.jigts-no-results-title{font-size:.875rem;margin-bottom:.25rem}.jigts-no-results-subtitle{font-size:.75rem}.jigts-dropdown-footer{padding:.5rem 1rem;border-top:1px solid color-mix(in srgb,var(--jigts-base-color) 20%,white);background:var(--jigts-bg-hover);border-radius:0 0 .75rem .75rem;animation:footerSlideUp .4s ease .2s both}.jigts-footer-text{font-size:.75rem;color:var(--jigts-text-color);text-align:center;opacity:.7}.jigts-language-list::-webkit-scrollbar{width:6px}.jigts-language-list::-webkit-scrollbar-track{background:#f3f4f6;border-radius:3px}.jigts-language-list::-webkit-scrollbar-thumb{background:#d1d5db;border-radius:3px}.jigts-language-list::-webkit-scrollbar-thumb:hover{background:#9ca3af}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes badgeSlideIn{0%{transform:scale(0) translate(10px);opacity:0}to{transform:scale(1) translate(0);opacity:1}}@keyframes headerSlideDown{0%{transform:translateY(-20px);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes resetSlideIn{0%{transform:translate(-20px);opacity:0}to{transform:translate(0);opacity:1}}@keyframes languageSlideIn{0%{transform:translate(-20px);opacity:0}to{transform:translate(0);opacity:1}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes footerSlideUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}.jigts-language-item:nth-child(1){animation-delay:.2s}.jigts-language-item:nth-child(2){animation-delay:.22s}.jigts-language-item:nth-child(3){animation-delay:.24s}.jigts-language-item:nth-child(4){animation-delay:.26s}.jigts-language-item:nth-child(5){animation-delay:.28s}.jigts-language-item:nth-child(6){animation-delay:.3s}.jigts-language-item:nth-child(7){animation-delay:.32s}.jigts-language-item:nth-child(8){animation-delay:.34s}.jigts-language-item:nth-child(9){animation-delay:.36s}.jigts-language-item:nth-child(10){animation-delay:.38s}@media (max-width: 400px){.jigts-widget-dropdown{width:100vw;right:auto;left:50%;transform:translate(-59%) scale(.95) translateY(10px)}.jigts-widget-dropdown.jigts-open{transform:translate(-50%) scale(1) translateY(0)}}@media (prefers-contrast: high){.jigts-widget-trigger,.jigts-widget-dropdown{border:2px solid #000}}@media (prefers-reduced-motion: reduce){*{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}',document.head.appendChild(e)}v=new f(e,t)}return v};return"loading"===document.readyState?void window.addEventListener("DOMContentLoaded",i):i()}}));
//# sourceMappingURL=index.min.js.map
