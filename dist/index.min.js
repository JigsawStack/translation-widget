!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).TranslationWidget=t()}(this,(function(){"use strict";var e=Object.defineProperty,t=(t,n,a)=>((t,n,a)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a)(t,"symbol"!=typeof n?n+"":n,a);class n{constructor(e){t(this,"publicKey"),t(this,"cacheMetrics",{hits:0,misses:0}),t(this,"apiUrl","https://api.jigsawstack.com/v1/ai/translate"),this.publicKey=e}getCacheMetrics(){return{...this.cacheMetrics}}async translateBatchText(e,t,n=2,a=100){let i=0;for(;i<n;)try{const n=await fetch(this.apiUrl,{method:"POST",headers:{"Content-Type":"application/json","x-api-key":this.publicKey},body:JSON.stringify({text:e,target_language:t})});if(!n.ok){const e=new Error(`Error translating text: ${n.statusText}`);throw e.status=n.status,e.response=n,e}const a=await n.json();return Array.isArray(a.translated_text)?a.translated_text:[a.translated_text]}catch(o){if(i++,i>=n)return console.error("Translation error after retries:",o),e;await new Promise((e=>setTimeout(e,a)))}return e}}const a=[{code:"af",name:"Afrikaans",native:"Afrikaans",region:"South Africa"},{code:"am",name:"Amharic",native:"አማርኛ",region:"Ethiopia"},{code:"ar",name:"Arabic",native:"العربية",rtl:1,region:"Saudi Arabia"},{code:"as",name:"Assamese",native:"অসমীয়া",region:"India"},{code:"az",name:"Azerbaijani",native:"Azərbaycanca / آذربايجان",region:"Azerbaijan"},{code:"ba",name:"Bashkir",native:"Башҡорт",region:"Russia"},{code:"be",name:"Belarusian",native:"Беларуская",region:"Belarus"},{code:"bg",name:"Bulgarian",native:"Български",region:"Bulgaria"},{code:"bn",name:"Bengali",native:"বাংলা",region:"Bangladesh"},{code:"bo",name:"Tibetan",native:"བོད་ཡིག / Bod skad",region:"Tibet"},{code:"br",name:"Breton",native:"Brezhoneg",region:"France"},{code:"bs",name:"Bosnian",native:"Bosanski",region:"Bosnia"},{code:"ca",name:"Catalan",native:"Català",region:"Spain"},{code:"ch",name:"Chamorro",native:"Chamoru",region:"Guam"},{code:"co",name:"Corsican",native:"Corsu",region:"France"},{code:"cs",name:"Czech",native:"Česky",region:"Czech Republic"},{code:"cy",name:"Welsh",native:"Cymraeg",region:"Wales"},{code:"da",name:"Danish",native:"Dansk",region:"Denmark"},{code:"de",name:"German",native:"Deutsch",region:"Germany"},{code:"dv",name:"Divehi",native:"ދިވެހިބަސް",rtl:1,region:"Maldives"},{code:"dz",name:"Dzongkha",native:"ཇོང་ཁ",region:"Bhutan"},{code:"el",name:"Greek",native:"Ελληνικά",region:"Greece"},{code:"en",name:"English",native:"English",region:"United Kingdom"},{code:"eo",name:"Esperanto",native:"Esperanto",region:"International"},{code:"es",name:"Spanish",native:"Español",region:"Spain"},{code:"et",name:"Estonian",native:"Eesti",region:"Estonia"},{code:"eu",name:"Basque",native:"Euskara",region:"Spain"},{code:"fa",name:"Persian",native:"فارسی",rtl:1,region:"Iran"},{code:"ff",name:"Peul",native:"Fulfulde",region:"Nigeria"},{code:"fi",name:"Finnish",native:"Suomi",region:"Finland"},{code:"fj",name:"Fijian",native:"Na Vosa Vakaviti",region:"Fiji"},{code:"fo",name:"Faroese",native:"Føroyskt",region:"Faroe Islands"},{code:"fr",name:"French",native:"Français",region:"France"},{code:"fy",name:"West Frisian",native:"Frysk",region:"Netherlands"},{code:"ga",name:"Irish",native:"Gaeilge",region:"Ireland"},{code:"gd",name:"Scottish Gaelic",native:"Gàidhlig",region:"Scotland"},{code:"gl",name:"Galician",native:"Galego",region:"Spain"},{code:"gn",name:"Guarani",native:"Avañe'ẽ",region:"Paraguay"},{code:"gu",name:"Gujarati",native:"ગુજરાતી",region:"India"},{code:"gv",name:"Manx",native:"Gaelg",region:"Isle of Man"},{code:"ha",name:"Hausa",native:"هَوُسَ",rtl:1,region:"Nigeria"},{code:"he",name:"Hebrew",native:"עברית",rtl:1,region:"Israel"},{code:"hi",name:"Hindi",native:"हिन्दी",region:"India"},{code:"hr",name:"Croatian",native:"Hrvatski",region:"Croatia"},{code:"ht",name:"Haitian",native:"Krèyol ayisyen",region:"Haiti"},{code:"hu",name:"Hungarian",native:"Magyar",region:"Hungary"},{code:"hy",name:"Armenian",native:"Հայերեն",region:"Armenia"},{code:"id",name:"Indonesian",native:"Bahasa Indonesia",region:"Indonesia"},{code:"ig",name:"Igbo",native:"Igbo",region:"Nigeria"},{code:"is",name:"Icelandic",native:"Íslenska",region:"Iceland"},{code:"it",name:"Italian",native:"Italiano",region:"Italy"},{code:"iu",name:"Inuktitut",native:"ᐃᓄᒃᑎᑐᑦ",region:"Canada"},{code:"ja",name:"Japanese",native:"日本語",region:"Japan"},{code:"jv",name:"Javanese",native:"Basa Jawa",region:"Indonesia"},{code:"ka",name:"Georgian",native:"ქართული",region:"Georgia"},{code:"kg",name:"Kongo",native:"KiKongo",region:"Congo"},{code:"ki",name:"Kikuyu",native:"Gĩkũyũ",region:"Kenya"},{code:"kj",name:"Kuanyama",native:"Kuanyama",region:"Namibia"},{code:"kk",name:"Kazakh",native:"Қазақша",region:"Kazakhstan"},{code:"kl",name:"Greenlandic",native:"Kalaallisut",region:"Greenland"},{code:"km",name:"Cambodian",native:"ភាសាខ្មែរ",region:"Cambodia"},{code:"kn",name:"Kannada",native:"ಕನ್ನಡ",region:"India"},{code:"ko",name:"Korean",native:"한국어",region:"South Korea"},{code:"kr",name:"Kanuri",native:"Kanuri",region:"Nigeria"},{code:"ks",name:"Kashmiri",native:"कश्मीरी / كشميري",rtl:1,region:"India"},{code:"ku",name:"Kurdish",native:"Kurdî / كوردی",rtl:1,region:"Iraq"},{code:"kv",name:"Komi",native:"Коми",region:"Russia"},{code:"kw",name:"Cornish",native:"Kernewek",region:"United Kingdom"},{code:"ky",name:"Kirghiz",native:"Kırgızca / Кыргызча",region:"Kyrgyzstan"},{code:"la",name:"Latin",native:"Latina",region:"Vatican"},{code:"lb",name:"Luxembourgish",native:"Lëtzebuergesch",region:"Luxembourg"},{code:"lg",name:"Ganda",native:"Luganda",region:"Uganda"},{code:"li",name:"Limburgian",native:"Limburgs",region:"Netherlands"},{code:"ln",name:"Lingala",native:"Lingála",region:"Congo"},{code:"lo",name:"Laotian",native:"ລາວ / Pha xa lao",region:"Laos"},{code:"lt",name:"Lithuanian",native:"Lietuvių",region:"Lithuania"},{code:"lu",name:"Luba-Katanga",native:"Tshiluba",region:"Congo"},{code:"lv",name:"Latvian",native:"Latviešu",region:"Latvia"},{code:"mg",name:"Malagasy",native:"Malagasy",region:"Madagascar"},{code:"mh",name:"Marshallese",native:"Kajin Majel / Ebon",region:"Marshall Islands"},{code:"mi",name:"Maori",native:"Māori",region:"New Zealand"},{code:"mk",name:"Macedonian",native:"Македонски",region:"North Macedonia"},{code:"ml",name:"Malayalam",native:"മലയാളം",region:"India"},{code:"mn",name:"Mongolian",native:"Монгол",region:"Mongolia"},{code:"mo",name:"Moldovan",native:"Moldovenească",region:"Moldova"},{code:"mr",name:"Marathi",native:"मराठी",region:"India"},{code:"ms",name:"Malay",native:"Bahasa Melayu",region:"Malaysia"},{code:"mt",name:"Maltese",native:"bil-Malti",region:"Malta"},{code:"sv",name:"Swedish",native:"Svenska",region:"Sweden"},{code:"sw",name:"Swahili",native:"Kiswahili",region:"Tanzania"},{code:"ta",name:"Tamil",native:"தமிழ்",region:"India"},{code:"te",name:"Telugu",native:"తెలుగు",region:"India"},{code:"tg",name:"Tajik",native:"Тоҷикӣ",region:"Tajikistan"},{code:"th",name:"Thai",native:"ไทย / Phasa Thai",region:"Thailand"},{code:"ti",name:"Tigrinya",native:"ትግርኛ",region:"Eritrea"},{code:"tk",name:"Turkmen",native:"Туркмен / تركمن",region:"Turkmenistan"},{code:"tl",name:"Tagalog",native:"Tagalog",region:"Philippines"},{code:"tn",name:"Tswana",native:"Setswana",region:"Botswana"},{code:"to",name:"Tonga",native:"Lea Faka-Tonga",region:"Tonga"},{code:"tr",name:"Turkish",native:"Türkçe",region:"Turkey"},{code:"ts",name:"Tsonga",native:"Xitsonga",region:"South Africa"},{code:"tt",name:"Tatar",native:"Tatarça",region:"Russia"},{code:"tw",name:"Twi",native:"Twi",region:"Ghana"},{code:"ty",name:"Tahitian",native:"Reo Mā`ohi",region:"French Polynesia"},{code:"ug",name:"Uyghur",native:"Uyƣurqə / ئۇيغۇرچە",region:"China"},{code:"uk",name:"Ukrainian",native:"Українська",region:"Ukraine"},{code:"ur",name:"Urdu",native:"اردو",rtl:1,region:"Pakistan"},{code:"uz",name:"Uzbek",native:"Ўзбек",region:"Uzbekistan"},{code:"ve",name:"Venda",native:"Tshivenḓa",region:"South Africa"},{code:"vi",name:"Vietnamese",native:"Tiếng Việt",region:"Vietnam"},{code:"vo",name:"Volapük",native:"Volapük",region:"International"},{code:"wo",name:"Wolof",native:"Wollof",region:"Senegal"},{code:"xh",name:"Xhosa",native:"isiXhosa",region:"South Africa"},{code:"yi",name:"Yiddish",native:"ייִדיש",rtl:1,region:"Israel"},{code:"yo",name:"Yoruba",native:"Yorùbá",region:"Nigeria"},{code:"zh",name:"Chinese",native:"中文",region:"China"},{code:"zu",name:"Zulu",native:"isiZulu",region:"South Africa"}];function i(e){return function(e,t){let n=3&e.length,a=e.length-n,i=t,o=3432918353,r=461845907,s=0;for(;s<a;){let t=255&e.charCodeAt(s)|(255&e.charCodeAt(++s))<<8|(255&e.charCodeAt(++s))<<16|(255&e.charCodeAt(++s))<<24;++s,t=(65535&t)*o+(((t>>>16)*o&65535)<<16)&4294967295,t=t<<15|t>>>17,t=(65535&t)*r+(((t>>>16)*r&65535)<<16)&4294967295,i^=t,i=i<<13|i>>>19;const n=5*(65535&i)+((5*(i>>>16)&65535)<<16)&4294967295;i=27492+(65535&n)+((58964+(n>>>16)&65535)<<16)}let l=0;switch(n){case 3:l^=e.charCodeAt(s+2)<<16;case 2:l^=e.charCodeAt(s+1)<<8;case 1:l^=e.charCodeAt(s),l=(65535&l)*o+(((l>>>16)*o&65535)<<16)&4294967295,l=l<<15|l>>>17,l=(65535&l)*r+(((l>>>16)*r&65535)<<16)&4294967295,i^=l}return i^=e.length,i^=i>>>16,i=2246822507*(65535&i)+((2246822507*(i>>>16)&65535)<<16)&4294967295,i^=i>>>13,i=3266489909*(65535&i)+((3266489909*(i>>>16)&65535)<<16)&4294967295,i^=i>>>16,i>>>0}(e.map((e=>{var t,n;if(e.nodeType===Node.TEXT_NODE){const a=e.parentElement;return a&&a.hasAttribute("data-original-text")?null==(t=a.getAttribute("data-original-text"))?void 0:t.replace(/\s+/g," ").trim():null==(n=e.textContent)?void 0:n.replace(/\s+/g," ").trim().toLocaleLowerCase()}})).join(" ").trim().toLowerCase(),42).toString(16)}const o=e=>e.replace(/[\p{Emoji_Presentation}\p{Extended_Pictographic}]/gu,"");class r{static findTranslatableContent(){var e;const t={acceptNode(e){var t;if(e.nodeType!==Node.TEXT_NODE)return NodeFilter.FILTER_REJECT;const n=e.parentElement;if(!n)return NodeFilter.FILTER_REJECT;if(n.closest('[aria-hidden="true"]'))return NodeFilter.FILTER_REJECT;if(n.classList.contains("sr-only"))return NodeFilter.FILTER_REJECT;return null!==n.closest("script, style, code")||null!==n.closest("next-route-announcer")||null!==n.closest(".translate-widget")||null!==n.closest(".widget-trigger")||null!==n.closest(".widget-dropdown")||null!==n.closest(".notranslate")||!(null==(t=e.textContent)?void 0:t.trim())?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}},n=document.createTreeWalker(document.body,NodeFilter.SHOW_TEXT,t),a=[];let i;for(;i=n.nextNode();)if(i.nodeType===Node.TEXT_NODE){const t=(null==(e=i.textContent)?void 0:e.trim())||"",n=o(t);if(0===t.length||1===t.length||0===n.length)continue;a.push(i)}return a}static divideIntoGroups(e,t){const n=[];for(let a=0;a<e.length;a+=t)n.push(e.slice(a,a+t));return n}static containsTranslatableContent(e){var t;if(e.nodeType!==Node.TEXT_NODE)return!1;const n=e.parentElement;return!!n&&!("SCRIPT"===n.tagName||"STYLE"===n.tagName||"CODE"===n.tagName||"next-route-announcer"===n.tagName||n.closest(".translate-widget")||n.closest(".notranslate")||!(null==(t=e.textContent)?void 0:t.trim()))}static getContainer(e){return e.parentElement}}const s={primaryColor:"#2563eb",pageLanguage:"en",autoDetectLanguage:!1,position:"top-right"};function l(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var d,c,g,u={exports:{}};const h=l((d||(d=1,c=u,g=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",a={};function i(e,t){if(!a[e]){a[e]={};for(var n=0;n<e.length;n++)a[e][e.charAt(n)]=n}return a[e][t]}var o={compressToBase64:function(e){if(null==e)return"";var n=o._compress(e,6,(function(e){return t.charAt(e)}));switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:o._decompress(e.length,32,(function(n){return i(t,e.charAt(n))}))},compressToUTF16:function(t){return null==t?"":o._compress(t,15,(function(t){return e(t+32)}))+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:o._decompress(e.length,16384,(function(t){return e.charCodeAt(t)-32}))},compressToUint8Array:function(e){for(var t=o.compress(e),n=new Uint8Array(2*t.length),a=0,i=t.length;a<i;a++){var r=t.charCodeAt(a);n[2*a]=r>>>8,n[2*a+1]=r%256}return n},decompressFromUint8Array:function(t){if(null==t)return o.decompress(t);for(var n=new Array(t.length/2),a=0,i=n.length;a<i;a++)n[a]=256*t[2*a]+t[2*a+1];var r=[];return n.forEach((function(t){r.push(e(t))})),o.decompress(r.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":o._compress(e,6,(function(e){return n.charAt(e)}))},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),o._decompress(e.length,32,(function(t){return i(n,e.charAt(t))})))},compress:function(t){return o._compress(t,16,(function(t){return e(t)}))},_compress:function(e,t,n){if(null==e)return"";var a,i,o,r={},s={},l="",d="",c="",g=2,u=3,h=2,p=[],m=0,f=0;for(o=0;o<e.length;o+=1)if(l=e.charAt(o),Object.prototype.hasOwnProperty.call(r,l)||(r[l]=u++,s[l]=!0),d=c+l,Object.prototype.hasOwnProperty.call(r,d))c=d;else{if(Object.prototype.hasOwnProperty.call(s,c)){if(c.charCodeAt(0)<256){for(a=0;a<h;a++)m<<=1,f==t-1?(f=0,p.push(n(m)),m=0):f++;for(i=c.charCodeAt(0),a=0;a<8;a++)m=m<<1|1&i,f==t-1?(f=0,p.push(n(m)),m=0):f++,i>>=1}else{for(i=1,a=0;a<h;a++)m=m<<1|i,f==t-1?(f=0,p.push(n(m)),m=0):f++,i=0;for(i=c.charCodeAt(0),a=0;a<16;a++)m=m<<1|1&i,f==t-1?(f=0,p.push(n(m)),m=0):f++,i>>=1}0==--g&&(g=Math.pow(2,h),h++),delete s[c]}else for(i=r[c],a=0;a<h;a++)m=m<<1|1&i,f==t-1?(f=0,p.push(n(m)),m=0):f++,i>>=1;0==--g&&(g=Math.pow(2,h),h++),r[d]=u++,c=String(l)}if(""!==c){if(Object.prototype.hasOwnProperty.call(s,c)){if(c.charCodeAt(0)<256){for(a=0;a<h;a++)m<<=1,f==t-1?(f=0,p.push(n(m)),m=0):f++;for(i=c.charCodeAt(0),a=0;a<8;a++)m=m<<1|1&i,f==t-1?(f=0,p.push(n(m)),m=0):f++,i>>=1}else{for(i=1,a=0;a<h;a++)m=m<<1|i,f==t-1?(f=0,p.push(n(m)),m=0):f++,i=0;for(i=c.charCodeAt(0),a=0;a<16;a++)m=m<<1|1&i,f==t-1?(f=0,p.push(n(m)),m=0):f++,i>>=1}0==--g&&(g=Math.pow(2,h),h++),delete s[c]}else for(i=r[c],a=0;a<h;a++)m=m<<1|1&i,f==t-1?(f=0,p.push(n(m)),m=0):f++,i>>=1;0==--g&&(g=Math.pow(2,h),h++)}for(i=2,a=0;a<h;a++)m=m<<1|1&i,f==t-1?(f=0,p.push(n(m)),m=0):f++,i>>=1;for(;;){if(m<<=1,f==t-1){p.push(n(m));break}f++}return p.join("")},decompress:function(e){return null==e?"":""==e?null:o._decompress(e.length,32768,(function(t){return e.charCodeAt(t)}))},_decompress:function(t,n,a){var i,o,r,s,l,d,c,g=[],u=4,h=4,p=3,m="",f=[],v={val:a(0),position:n,index:1};for(i=0;i<3;i+=1)g[i]=i;for(r=0,l=Math.pow(2,2),d=1;d!=l;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=a(v.index++)),r|=(s>0?1:0)*d,d<<=1;switch(r){case 0:for(r=0,l=Math.pow(2,8),d=1;d!=l;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=a(v.index++)),r|=(s>0?1:0)*d,d<<=1;c=e(r);break;case 1:for(r=0,l=Math.pow(2,16),d=1;d!=l;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=a(v.index++)),r|=(s>0?1:0)*d,d<<=1;c=e(r);break;case 2:return""}for(g[3]=c,o=c,f.push(c);;){if(v.index>t)return"";for(r=0,l=Math.pow(2,p),d=1;d!=l;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=a(v.index++)),r|=(s>0?1:0)*d,d<<=1;switch(c=r){case 0:for(r=0,l=Math.pow(2,8),d=1;d!=l;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=a(v.index++)),r|=(s>0?1:0)*d,d<<=1;g[h++]=e(r),c=h-1,u--;break;case 1:for(r=0,l=Math.pow(2,16),d=1;d!=l;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=a(v.index++)),r|=(s>0?1:0)*d,d<<=1;g[h++]=e(r),c=h-1,u--;break;case 2:return f.join("")}if(0==u&&(u=Math.pow(2,p),p++),g[c])m=g[c];else{if(c!==h)return null;m=o+o.charAt(0)}f.push(m),g[h++]=o+m.charAt(0),o=m,0==--u&&(u=Math.pow(2,p),p++)}}};return o}(),null!=c?c.exports=g:"undefined"!=typeof angular&&null!=angular&&angular.module("LZString",[]).factory("LZString",(function(){return g}))),u.exports));class p{constructor(e=""){t(this,"prefix"),t(this,"COMPRESSION_THRESHOLD",1e4),t(this,"COMPRESSION_MARKER","__COMPRESSED__"),this.prefix=e}getKey(e,t,n){return`${e}-${encodeURIComponent(t)}-${n}`}shouldCompress(e){return e.length>this.COMPRESSION_THRESHOLD}compress(e){try{return h.compressToBase64(e)}catch(t){return console.error("Compression failed:",t),e}}decompress(e){try{return h.decompressFromBase64(e)||e}catch(t){return console.error("Decompression failed:",t),e}}getItem(e){const t=this.prefix+e,n=localStorage.getItem(t);if(!n)return null;try{const e=n.startsWith(this.COMPRESSION_MARKER)?this.decompress(n.slice(this.COMPRESSION_MARKER.length)):n;return JSON.parse(e)}catch(a){return console.error("Error parsing cached item:",a),null}}setItem(e,t){const n=this.prefix+e,a=JSON.stringify(t),i=()=>{try{const e=this.shouldCompress(a)?`${this.COMPRESSION_MARKER}${this.compress(a)}`:a;localStorage.setItem(n,e)}catch(e){console.error("Error storing item:",e),localStorage.setItem(n,a)}};"undefined"!=typeof requestIdleCallback?requestIdleCallback((()=>i())):setTimeout(i,0)}removeItem(e){const t=this.prefix+e;localStorage.removeItem(t)}clear(){if(this.prefix)for(let e in localStorage)e.startsWith(this.prefix)&&localStorage.removeItem(e);else localStorage.clear()}key(e){return localStorage.key(e)}get length(){return localStorage.length}}const m=class e{constructor(i,o={}){t(this,"config"),t(this,"translationService"),t(this,"currentLanguage"),t(this,"widget"),t(this,"elements"),t(this,"autoDetectLanguage"),t(this,"isTranslated",!1),t(this,"userLanguage"),t(this,"isTranslating",!1),t(this,"observer",null),t(this,"translationScheduled",!1),t(this,"scheduleTimeout",null),t(this,"lastTranslated",null),t(this,"onUrlChange",(()=>{this.scheduleTranslation()}));let r={...s,...o};if(r.position&&!["top-right","top-left","bottom-left","bottom-right"].includes(r.position)&&(console.warn(`Invalid position '${r.position}' passed to TranslationWidget. Falling back to 'top-right'.`),r.position="top-right"),this.config=r,!i)throw new Error("Public key is required to initialize the translation widget");if(!i.startsWith("sk_"))throw new Error("Please use proper api key. You can get one from https://jigsawstack.com");this.translationService=new n(i),this.autoDetectLanguage=this.config.autoDetectLanguage||!1,this.currentLanguage=this.config.pageLanguage||"en",this.userLanguage=(()=>{const e=window.navigator.languages,t=a.find((t=>e.includes(t.code)));return(null==t?void 0:t.code)||"en"})(),this.widget=document.createElement("div"),this.elements={trigger:null,dropdown:null,searchInput:null,clearSearch:null,languageItems:null,loadingIndicator:null},this.initialize(),e.instance=this}initialize(){var e;if(!this.validateConfig())return;const t=this.getUrlParameter("lang");let n=this.config.pageLanguage;if(t){a.find((e=>e.code===t))&&(n=t)}else{const e=localStorage.getItem("jss-pref");e&&a.find((t=>t.code===e))?n=e:this.autoDetectLanguage&&(n=this.userLanguage)}this.currentLanguage=n,this.createWidget();const i=null==(e=this.elements.trigger)?void 0:e.querySelector(".trigger-icon");if(i&&this.currentLanguage!==this.config.pageLanguage){const e=a.find((e=>e.code===this.currentLanguage)),t=e?e.name:this.currentLanguage.toUpperCase();i.innerHTML=`<span class="lang-code">${this.currentLanguage.toUpperCase()}</span><span class="lang-name">${t}</span>`}this.setupEventListeners(),this.setupURLObserver(),this.setupContentObserver()}getUrlParameter(e){return new URLSearchParams(window.location.search).get(e)}setupContentObserver(){this.observer=new MutationObserver((e=>{e.forEach((e=>{this.widget.contains(e.target)||"characterData"===e.type||"childList"===e.type&&Array.from(e.addedNodes).some((e=>e.nodeType===Node.TEXT_NODE))})),this.isTranslating||this.scheduleTranslation()})),this.observeBody()}observeBody(){var e;null==(e=this.observer)||e.observe(document.body,{childList:!0,subtree:!0,attributes:!0,characterData:!0})}setupURLObserver(){["pushState","replaceState"].forEach((e=>{const t=history[e];history[e]=function(n,a,i){const o=t.call(this,n,a,i);return window.dispatchEvent(new Event(e)),o},window.addEventListener(e,this.onUrlChange)})),window.addEventListener("popstate",this.onUrlChange)}validateConfig(){return!!this.translationService||(console.error("Translation service is required to initialize the translation widget"),!1)}createWidget(){var e;const t=this.getCurrentLanguageLabel();this.widget=document.createElement("div"),this.widget.className=`translation-widget position-${this.config.position||"top-right"}`,document.body.appendChild(this.widget),this.widget.innerHTML=this.createWidgetHTML(t),this.elements={trigger:this.widget.querySelector(".widget-trigger"),dropdown:this.widget.querySelector(".widget-dropdown"),searchInput:this.widget.querySelector(".search-input"),clearSearch:this.widget.querySelector(".clear-search"),languageItems:this.widget.querySelectorAll(".language-item"),loadingIndicator:this.widget.querySelector(".loading-spinner")};const n=null==(e=this.elements.trigger)?void 0:e.querySelector("span");n&&n.classList.add("fade-in")}getCurrentLanguageLabel(){var e;return(null==(e=a.find((e=>e.code===this.currentLanguage)))?void 0:e.native)||"English"}createWidgetHTML(e){const t=this.createLanguageOptions(),n=a.length;return'\x3c!-- Widget Trigger Button --\x3e\n<div class="widget-trigger" tabindex="0" role="button" aria-label="Open translation menu" aria-expanded="false">\n    \x3c!-- Normal State --\x3e\n    <div class="trigger-content">\n        <span class="trigger-icon">\n            <svg class="languages-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\n                    d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129">\n                </path>\n            </svg>\n        </span>\n    </div>\n\n    \x3c!-- Loading State (hidden by default) --\x3e\n    <div class="trigger-loading" style="display: none;">\n        <div class="loading-spinner"></div>\n    </div>\n</div>\n\n\x3c!-- Dropdown Menu --\x3e\n<div class="widget-dropdown">\n    \x3c!-- Header --\x3e\n    <div class="dropdown-header">\n        <div class="dropdown-title">\n            <div class="title-left">\n                <svg class="languages-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\n                        d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129">\n                    </path>\n                </svg>\n                <span class="title-text">Select Language</span>\n            </div>\n            <div class="language-count">{{languageCount}} languages</div>\n        </div>\n\n        \x3c!-- Search Input --\x3e\n        <div class="search-container">\n            <svg class="search-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\n                    d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>\n            </svg>\n            <input type="text" class="search-input" placeholder="Search languages..." aria-label="Search languages">\n            <svg class="clear-search" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12">\n                </path>\n            </svg>\n        </div>\n    </div>\n\n    \x3c!-- Reset Option --\x3e\n    <div class="reset-option" tabindex="0" role="button" aria-label="Reset to original language">\n        <svg class="reset-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\n                d="M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"></path>\n        </svg>\n        <div class="reset-text">\n            <span class="reset-title">Original Language</span>\n            <span class="reset-subtitle">Reset translation</span>\n        </div>\n    </div>\n\n    \x3c!-- Language List --\x3e\n    <div class="language-list">\n        {{languageOptions}}\n        <div class="no-results" style="display: none;">\n            <svg class="no-results-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\n                    d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>\n            </svg>\n            <span>No languages found</span>\n        </div>\n    </div>\n</div>'.replace("{{languageOptions}}",t).replace("{{currentLanguageLabel}}",e).replace("{{languageCount}}",n.toString())}createLanguageOptions(){const e=this.currentLanguage,t=a.find((t=>t.code===e)),n=a.filter((t=>t.code!==e)).sort(((e,t)=>e.native.localeCompare(t.native)));if(!t)return"";const i=(e,t=!1)=>`\n            <div class="language-item ${t?"selected":""}" tabindex="0" role="option" aria-selected="${t}" data-language-code="${e.code}">\n                <div class="language-info">\n                    <div class="language-main">\n                        <span class="language-name">${e.name}</span>\n                        <div class="language-code">${e.code}</div>\n                    </div>\n                    <div class="language-details">\n                        <span class="language-native">${e.native}</span>\n                        <span class="language-separator">•</span>\n                        <span class="language-region">${e.region}</span>\n                    </div>\n                </div>\n                <svg class="check-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>\n                </svg>\n            </div>\n        `;return`\n            ${i(t,!0)}\n            ${n.map((e=>i(e))).join("")}\n        `}async updateTriggerText(e){var t;const n=null==(t=this.elements.trigger)?void 0:t.querySelector("span");n&&(n.offsetHeight,n.classList.remove("fade-in"),n.classList.add("fade-out"),await new Promise((e=>setTimeout(e,300))),n.textContent=e,n.offsetHeight,n.classList.remove("fade-out"),n.classList.add("fade-in"))}getTextToTranslate(e,t,n){var a,i;if(t.hasAttribute("data-original-text")){const a=null==(i=e.textContent)?void 0:i.trim();return"en"!==this.currentLanguage&&"en"!==n?(t.setAttribute("data-translated-lang",n),t.getAttribute("data-original-text")):a||null}{const i=null==(a=e.textContent)?void 0:a.trim();if(i){if(t.setAttribute("data-translated-lang",n),t.setAttribute("data-original-text",i),!t.hasAttribute("data-original-font-size")){const e=window.getComputedStyle(t);t.setAttribute("data-original-font-size",e.fontSize)}return i}}return null}calculateFontSize(e,t){const n=parseInt(t),a=e.length;return`${Math.max(12,Math.min(n,n*(1-Math.log(a)/10)))}px`}async translatePage(e){var t;this.isTranslating=!0,null==(t=this.observer)||t.disconnect();try{const t=r.findTranslatableContent(),n=r.divideIntoGroups(t,10),a=new p("jss-");let s=i(t);const l=[],d=[];n.forEach((t=>{const n=[],a=[];t.forEach((t=>{if(t.nodeType!==Node.TEXT_NODE)return;const i=t.parentElement;if(!i)return;const r=i.getAttribute("data-translated-lang");if(i.hasAttribute("data-original-text")&&e===r)return;let s=this.getTextToTranslate(t,i,e);s=o(s||""),0!==s.length&&1!==s.length&&s&&(n.push(s.trim()),a.push(t))})),l.push(a),d.push(n)}));const c=[],g=[];d.forEach(((e,t)=>{e.length>0&&(g.push(e),c.push(l[t]))}));const u=a.getKey(s,window.location.href,e),h=a.getItem(u);if(h&&h[0]){const e=h[0];return t.forEach(((t,n)=>{if(t.nodeType===Node.TEXT_NODE){const a=t.parentElement;if(a){const t=a.getAttribute("data-original-font-size")||"16px",i=this.calculateFontSize(e[n],t);a.style.fontSize=i}t.textContent=e[n]}})),this.isTranslated=!0,void this.updateResetButtonVisibility()}const m=await Promise.all(g.map((t=>this.translationService.translateBatchText(t,e))));if(0===m.length)return this.isTranslated=!0,void this.updateResetButtonVisibility();if(m.every(((e,t)=>{const n=g[t];return e.every(((e,t)=>e===n[t]))})))return console.warn("All translations failed, not caching results"),this.isTranslated=!0,void this.updateResetButtonVisibility();const f=[];t.forEach(((e,t)=>{const n=e.parentElement,a=c.findIndex((t=>t.includes(e)));if(-1!==a){const i=c[a].indexOf(e),o=m[a][i];if(f[t]=o,n){const e=n.getAttribute("data-original-font-size")||"16px",t=this.calculateFontSize(o,e);n.style.fontSize=t}e.textContent=o}else n&&n.getAttribute("data-translated-lang"),f[t]=e.textContent||""})),a.setItem(u,[f]),this.isTranslated=!0,this.updateResetButtonVisibility()}finally{this.isTranslating=!1,this.observeBody()}}updateResetButtonVisibility(){const e=this.widget.querySelector(".reset-option");e&&(e.style.display=this.isTranslated?"flex":"none")}resetTranslations(){this.observer&&this.observer.disconnect();document.querySelectorAll("[data-original-text]").forEach((e=>{const t=Array.from(e.childNodes).filter((e=>e.nodeType===Node.TEXT_NODE));if(t.length>0){const n=e.getAttribute("data-original-text");n&&(t[0].textContent=n)}const n=e.getAttribute("data-original-font-size");n&&(e.style.fontSize=n),e.removeAttribute("data-original-text"),e.removeAttribute("data-translated-lang"),e.removeAttribute("data-original-font-size")})),this.isTranslated=!1,this.currentLanguage=this.config.pageLanguage;const e=i(r.findTranslatableContent());this.lastTranslated={url:window.location.href,lang:this.config.pageLanguage,hash:e},this.updateResetButtonVisibility(),this.observeBody()}adjustDropdownPosition(){const{dropdown:e,trigger:t}=this.elements;if(!e||!t)return;const n=t.getBoundingClientRect(),a=e.getBoundingClientRect(),i=window.innerWidth,o=window.innerHeight;e.style.top="",e.style.bottom="",e.style.left="",e.style.right="",e.style.transform="";const r=o-n.bottom,s=n.top,l=i-n.right,d=n.left;r<a.height&&s>r?(e.style.bottom="100%",e.style.top="auto",e.style.marginBottom="0.5rem",e.style.marginTop="0"):(e.style.top="100%",e.style.bottom="auto",e.style.marginTop="0.5rem",e.style.marginBottom="0"),l<a.width&&d>l?(e.style.right="0",e.style.left="auto"):(e.style.left="0",e.style.right="auto");const c=e.getBoundingClientRect();c.right>i&&(e.style.right="0",e.style.left="auto"),c.left<0&&(e.style.left="0",e.style.right="auto")}setupEventListeners(){const{trigger:e,dropdown:t,searchInput:n,clearSearch:a,languageItems:i}=this.elements;if(!(e&&t&&n&&a&&i))return void console.error("Failed to find required elements");const o=this.widget.querySelector(".reset-option");o&&o.addEventListener("click",(()=>{var n;if(this.isTranslating)return;this.resetTranslations(),o.classList.remove("active"),this.isTranslated=!1,this.updateResetButtonVisibility();this.widget.querySelectorAll(".language-item").forEach((e=>{const t=e.getAttribute("data-language-code")===this.config.pageLanguage;e.classList.toggle("selected",t),e.setAttribute("aria-selected",t.toString())}));const a=null==(n=this.elements.trigger)?void 0:n.querySelector(".trigger-icon");a&&(a.innerHTML=this.getLanguageSVG()),t.classList.remove("open"),e.setAttribute("aria-expanded","false");const i=e.querySelector(".trigger-content");i&&i.classList.remove("has-translation")})),this.updateResetButtonVisibility(),e.addEventListener("click",(()=>{if(this.isTranslating)return;t.classList.toggle("open");const a=t.classList.contains("open");e.setAttribute("aria-expanded",a.toString()),a&&(this.adjustDropdownPosition(),n.focus())})),window.addEventListener("resize",(()=>{t.classList.contains("open")&&this.adjustDropdownPosition()})),document.addEventListener("click",(n=>{n.target.closest(".translation-widget")||t.classList.contains("open")&&(t.classList.add("closing"),setTimeout((()=>{t.classList.remove("open","closing"),e.setAttribute("aria-expanded","false")}),300))})),n.addEventListener("input",(()=>{const e=n.value.toLowerCase(),t=e.length>0;a.classList.toggle("visible",t);const i=this.widget.querySelectorAll(".language-item"),o=this.widget.querySelector(".no-results");let r=0;i.forEach((t=>{var n,a,i,o,s,l,d,c;const g=(null==(a=null==(n=t.querySelector(".language-name"))?void 0:n.textContent)?void 0:a.toLowerCase())||"",u=(null==(o=null==(i=t.querySelector(".language-native"))?void 0:i.textContent)?void 0:o.toLowerCase())||"",h=(null==(l=null==(s=t.querySelector(".language-code"))?void 0:s.textContent)?void 0:l.toLowerCase())||"",p=(null==(c=null==(d=t.querySelector(".language-region"))?void 0:d.textContent)?void 0:c.toLowerCase())||"",m=g.includes(e)||u.includes(e)||h.includes(e)||p.includes(e);t.style.display=m?"":"none",m&&r++})),o&&(o.style.display=0===r?"flex":"none")})),a.addEventListener("click",(()=>{n.value="",a.classList.remove("visible"),n.focus();const e=this.widget.querySelectorAll(".language-item"),t=this.widget.querySelector(".no-results");e.forEach((e=>{e.style.display=""})),t&&(t.style.display="none")})),i.forEach((n=>{n.addEventListener("click",(async()=>{var a,o;if(this.isTranslating)return;i.forEach((e=>{e.classList.remove("selected"),e.setAttribute("aria-selected","false")})),n.classList.add("selected"),n.setAttribute("aria-selected","true");const r=null==(a=n.querySelector(".language-name"))?void 0:a.textContent,s=n.getAttribute("data-language-code");r&&await this.updateTriggerText(r),s&&localStorage.setItem("jss-pref",s);const l=null==(o=this.elements.trigger)?void 0:o.querySelector(".trigger-icon");l&&s&&r&&(l.innerHTML=`<span class="lang-code">${s.toUpperCase()}</span><span class="lang-name">${r}</span>`),t.classList.remove("open"),e.setAttribute("aria-expanded","false");const d=e.querySelector(".trigger-content");if(s&&s!==this.currentLanguage){d&&d.classList.add("has-translation");const t=e.querySelector(".trigger-loading");d&&t&&(d.style.display="none",t.style.display="flex");try{await this.translatePage(s),this.currentLanguage=s}catch(c){console.error("Translation error:",c),alert("An error occurred during translation. Please try again.")}finally{d&&t&&(t.style.display="none",d.style.display="flex")}}else d&&d.classList.remove("has-translation")}))})),document.addEventListener("keydown",(n=>{t.classList.contains("open")&&"Escape"===n.key&&(t.classList.remove("open"),e.setAttribute("aria-expanded","false"),e.focus())}))}scheduleTranslation(){if(this.translationScheduled)return;const e=window.location.href,t=this.currentLanguage,n=i(r.findTranslatableContent());this.lastTranslated&&this.lastTranslated.url===e&&this.lastTranslated.lang===t&&this.lastTranslated.hash===n||(this.translationScheduled=!0,this.scheduleTimeout&&clearTimeout(this.scheduleTimeout),this.scheduleTimeout=window.setTimeout((()=>{var a,i;if(this.translationScheduled=!1,this.currentLanguage!==this.config.pageLanguage){this.lastTranslated={url:e,lang:t,hash:n};const o=null==(a=this.elements.trigger)?void 0:a.querySelector(".trigger-content"),r=null==(i=this.elements.trigger)?void 0:i.querySelector(".trigger-loading");o&&r&&(o.style.display="none",r.style.display="flex"),this.translatePage(this.currentLanguage).then((()=>{this.widget.querySelectorAll(".language-item").forEach((e=>{const t=e.getAttribute("data-language-code")===this.currentLanguage;e.classList.toggle("selected",t),e.setAttribute("aria-selected",t.toString())}))})).catch((e=>{console.error("Auto-translation error:",e)})).finally((()=>{o&&r&&(r.style.display="none",o.style.display="flex")}))}}),200))}async translateTo(e){var t;if(this.isTranslating)return void console.warn("Translation already in progress");const n=a.find((t=>t.code===e));if(n)if(e!==this.currentLanguage)try{await this.translatePage(e),this.currentLanguage=e;this.widget.querySelectorAll(".language-item").forEach((t=>{const n=t.getAttribute("data-language-code")===e;t.classList.toggle("selected",n),t.setAttribute("aria-selected",n.toString())}));const a=null==(t=this.elements.trigger)?void 0:t.querySelector(".trigger-content");if(a){a.classList.add("has-translation");a.querySelector("span")&&this.updateTriggerText(n.name)}}catch(i){throw console.error("Translation error:",i),i}else console.log("Page is already in the requested language");else console.error(`Unsupported language code: ${e}`)}static getInstance(){return e.instance}getLanguageSVG(){return'\n            <svg class="languages-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\n                    d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129">\n                </path>\n            </svg>\n        '}};t(m,"instance",null);let f,v=m;window.translate=async e=>{const t=v.getInstance();t?await t.translateTo(e):console.error("Translation widget not initialized")};return(e,t)=>{if("undefined"==typeof window)throw new Error("Translation widget can only be used in browser environment");const n=()=>{if(!f){if(!document.querySelector("style[data-translation-widget]")){const e=document.createElement("style");e.setAttribute("data-translation-widget",""),e.textContent='*{margin:0;padding:0;box-sizing:border-box}.translation-widget{position:fixed;z-index:1000}.translation-widget.position-top-right{top:2rem;right:2rem}.translation-widget.position-top-left{top:2rem;left:2rem}.translation-widget.position-bottom-left{bottom:2rem;left:2rem}.translation-widget.position-bottom-right{bottom:2rem;right:2rem}.position-top-right .widget-dropdown,.position-top-left .widget-dropdown{top:calc(100% + .5rem)}.position-bottom-right .widget-dropdown,.position-bottom-left .widget-dropdown{bottom:calc(100% + .5rem)}.position-top-right .widget-dropdown,.position-bottom-right .widget-dropdown{right:0}.position-top-left .widget-dropdown,.position-bottom-left .widget-dropdown{left:0}.translation-widget{position:fixed}.translation-widget{max-width:fit-content}.trigger-content{display:flex;cursor:pointer;border-radius:6px;background:#fff;transition:all .2s ease}.trigger-icon{display:flex;align-items:center}.lang-code{font-weight:500;color:#333;font-size:14px}.lang-name{color:#666;font-size:14px;opacity:0;max-width:0;overflow:hidden;white-space:nowrap;transition:all .3s ease-in-out;display:inline-block}.widget-trigger:hover .lang-name{opacity:1;margin-left:.5rem;max-width:100px}.widget-trigger{background:#fffffff2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid #e5e7eb;border-radius:.75rem;padding:.3rem .6rem;cursor:pointer;display:flex;align-items:center;gap:.2rem;font-size:.9rem;font-weight:500;color:#374151;box-shadow:0 10px 25px -5px #0000001a,0 10px 10px -5px #0000000a;transition:all .3s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden;min-height:2.2rem;min-width:unset}.widget-trigger:hover{transform:scale(1.05) translateY(-2px);box-shadow:0 20px 40px -10px #00000026,0 10px 20px -5px #0000001a}.widget-trigger:active{transform:scale(.98)}.widget-trigger:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(59,130,246,.1),transparent);transition:left .6s ease}.widget-trigger:hover:before{left:100%}.widget-dropdown{position:absolute;width:20rem;background:#fffffff2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid #e5e7eb;border-radius:.75rem;box-shadow:0 25px 50px -12px #00000040;opacity:0;visibility:hidden;transform:scale(.95) translateY(10px);transition:all .3s cubic-bezier(.4,0,.2,1);max-height:28rem;overflow:hidden;min-height:30rem;display:none;flex-direction:column;z-index:1000}.widget-dropdown.open{opacity:1;visibility:visible;transform:scale(1) translateY(0);display:flex}.widget-dropdown.closing{opacity:0;transform:translateY(10px)}.dropdown-header{padding:1rem;border-bottom:1px solid #f3f4f6;background:linear-gradient(135deg,#dbeafe,#e0e7ff);border-radius:.75rem .75rem 0 0;animation:headerSlideDown .4s ease .1s both}.dropdown-title{display:flex;align-items:center;justify-content:space-between;margin-bottom:.75rem}.title-left{display:flex;align-items:center;gap:.5rem}.languages-icon{width:1rem;height:1rem;color:#2563eb}.title-text{font-size:.875rem;font-weight:600;color:#374151}.language-count{background:#fff;border:1px solid #d1d5db;color:#6b7280;padding:.125rem .5rem;border-radius:.375rem;font-size:.75rem;font-weight:500}.search-container{position:relative}.search-input{width:100%;padding:.5rem .75rem .5rem 2.5rem;border:1px solid #d1d5db;border-radius:.5rem;outline:none;font-size:.875rem;color:#000;background:#fff;transition:all .2s ease}.search-icon{position:absolute;left:.75rem;top:50%;transform:translateY(-50%);width:1rem;height:1rem;color:#9ca3af}.clear-search{position:absolute;right:.75rem;top:50%;transform:translateY(-50%);width:1rem;height:1rem;color:#9ca3af;cursor:pointer;opacity:0;transition:all .2s ease}.clear-search.visible{opacity:1}.clear-search:hover{color:#6b7280;transform:translateY(-50%) scale(1.1)}.reset-option{padding:.75rem 1rem;border-bottom:1px solid #f3f4f6;cursor:pointer;display:flex;align-items:center;gap:.75rem;transition:background-color .2s ease;animation:resetSlideIn .4s ease .15s both}.reset-option:hover{background:#f9fafb}.reset-icon{width:1rem;height:1rem;color:#6b7280;transition:transform .3s ease}.reset-option:hover .reset-icon{transform:rotate(-180deg)}.reset-text{display:flex;flex-direction:column}.reset-title{font-weight:500;color:#111827;font-size:.875rem}.reset-subtitle{font-size:.75rem;color:#6b7280}.language-list{flex:1;overflow-y:auto;padding:.5rem;position:relative;min-height:200px}.language-item{display:flex;align-items:center;justify-content:space-between;margin-left:.5rem;margin-right:.5rem;margin-bottom:.5rem;padding:.625rem .75rem;border-radius:.5rem;cursor:pointer;transition:all .2s ease;border:1px solid transparent;animation:languageSlideIn .4s ease both}.language-item.focused{background:#dbeafe;border-color:#93c5fd}.language-item.selected{background:#eff6ff}.language-info{display:flex;flex-direction:column;align-items:flex-start;min-width:0;flex:1}.language-main{display:flex;align-items:center;gap:.5rem;width:100%}.language-name{font-weight:500;color:#111827;font-size:.875rem;transition:color .2s ease;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.language-item:hover .language-name{color:#2563eb}.language-code{background:#f3f4f6;color:#6b7280;padding:.125rem .375rem;border-radius:.25rem;font-size:.75rem;font-weight:600;flex-shrink:0}.language-details{display:flex;align-items:center;gap:.25rem;font-size:.75rem;color:#6b7280;width:100%;margin-top:.125rem}.language-native{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.language-separator,.language-region{flex-shrink:0}.globe-icon{width:1rem;height:1rem;color:#2563eb;transition:transform .5s ease}.widget-trigger:hover .globe-icon{transform:rotate(360deg)}.check-icon{width:1rem;height:1rem;color:#2563eb;opacity:0;transform:scale(0);transition:all .3s cubic-bezier(.34,1.56,.64,1)}.language-item.selected .check-icon{opacity:1;transform:scale(1)}.loading-spinner{width:1rem;height:1rem;border:2px solid #e5e7eb;border-top:2px solid #2563eb;border-radius:50%;animation:spin 1s linear infinite}.trigger-loading{display:none}.no-results{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);display:none;flex-direction:column;align-items:center;justify-content:center;color:#6b7280;text-align:center;padding:24px;animation:fadeIn .4s ease}.no-results-icon{width:2rem;height:2rem;margin-bottom:.5rem;opacity:.5}.no-results-title{font-size:.875rem;margin-bottom:.25rem}.no-results-subtitle{font-size:.75rem}.dropdown-footer{padding:.5rem 1rem;border-top:1px solid #f3f4f6;background:#f9fafb80;border-radius:0 0 .75rem .75rem;animation:footerSlideUp .4s ease .2s both}.footer-text{font-size:.75rem;color:#6b7280;text-align:center}.language-list::-webkit-scrollbar{width:6px}.language-list::-webkit-scrollbar-track{background:#f3f4f6;border-radius:3px}.language-list::-webkit-scrollbar-thumb{background:#d1d5db;border-radius:3px}.language-list::-webkit-scrollbar-thumb:hover{background:#9ca3af}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes badgeSlideIn{0%{transform:scale(0) translate(10px);opacity:0}to{transform:scale(1) translate(0);opacity:1}}@keyframes headerSlideDown{0%{transform:translateY(-20px);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes resetSlideIn{0%{transform:translate(-20px);opacity:0}to{transform:translate(0);opacity:1}}@keyframes languageSlideIn{0%{transform:translate(-20px);opacity:0}to{transform:translate(0);opacity:1}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes footerSlideUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}.language-item:nth-child(1){animation-delay:.2s}.language-item:nth-child(2){animation-delay:.22s}.language-item:nth-child(3){animation-delay:.24s}.language-item:nth-child(4){animation-delay:.26s}.language-item:nth-child(5){animation-delay:.28s}.language-item:nth-child(6){animation-delay:.3s}.language-item:nth-child(7){animation-delay:.32s}.language-item:nth-child(8){animation-delay:.34s}.language-item:nth-child(9){animation-delay:.36s}.language-item:nth-child(10){animation-delay:.38s}@media (max-width: 400px){.widget-dropdown{width:100vw;right:auto;left:50%;transform:translate(-59%) scale(.95) translateY(10px)}.widget-dropdown.open{transform:translate(-50%) scale(1) translateY(0)}}@media (prefers-contrast: high){.widget-trigger,.widget-dropdown{border:2px solid #000}}@media (prefers-reduced-motion: reduce){*{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}',document.head.appendChild(e)}f=new v(e,t)}return f};return"loading"===document.readyState?void window.addEventListener("DOMContentLoaded",n):n()}}));
//# sourceMappingURL=index.min.js.map
